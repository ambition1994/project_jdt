function tableToGrid(a,b){jQuery(a).each(function(){if(!this.grid){jQuery(this).width("99%");var a=jQuery(this).width(),c=jQuery("tr td:first-child input[type=checkbox]:first",jQuery(this)),d=jQuery("tr td:first-child input[type=radio]:first",jQuery(this)),e=c.length>0,f=!e&&d.length>0,g=e||f,h=[],i=[];jQuery("th",jQuery(this)).each(function(){0===h.length&&g?(h.push({name:"__selection__",index:"__selection__",width:0,hidden:!0}),i.push("__selection__")):(h.push({name:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),index:jQuery(this).attr("id")||jQuery.trim(jQuery.jgrid.stripHtml(jQuery(this).html())).split(" ").join("_"),width:jQuery(this).width()||150}),i.push(jQuery(this).html()))});var j=[],k=[],l=[];jQuery("tbody > tr",jQuery(this)).each(function(){var a={},b=0;jQuery("td",jQuery(this)).each(function(){if(0===b&&g){var c=jQuery("input",jQuery(this)),d=c.attr("value");k.push(d||j.length),c.is(":checked")&&l.push(d),a[h[b].name]=c.attr("value")}else a[h[b].name]=jQuery(this).html();b++}),b>0&&j.push(a)}),jQuery(this).empty(),jQuery(this).addClass("scroll"),jQuery(this).jqGrid(jQuery.extend({datatype:"local",width:a,colNames:i,colModel:h,multiselect:e},b||{}));var m;for(m=0;m<j.length;m++){var n=null;k.length>0&&(n=k[m],n&&n.replace&&(n=encodeURIComponent(n).replace(/[.\-%]/g,"_"))),null===n&&(n=m+1),jQuery(this).jqGrid("addRowData",n,j[m])}for(m=0;m<l.length;m++)jQuery(this).jqGrid("setSelection",l[m])}})}