!function($){"use strict";$.jgrid=$.jgrid||{},$.extend($.jgrid,{version:"4.6.0",htmlDecode:function(a){return a&&("&nbsp;"===a||"&#160;"===a||1===a.length&&160===a.charCodeAt(0))?"":a?String(a).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):a},htmlEncode:function(a){return a?String(a).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):a},format:function(a){var b=$.makeArray(arguments).slice(1);return null==a&&(a=""),a.replace(/\{(\d+)\}/g,function(a,c){return b[c]})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var a=-1,b=navigator.userAgent,c=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");return null!=c.exec(b)&&(a=parseFloat(RegExp.$1)),a},getCellIndex:function(a){var b=$(a);return b.is("tr")?-1:(b=(b.is("td")||b.is("th")?b:b.closest("td,th"))[0],$.jgrid.msie?$.inArray(b,b.parentNode.cells):b.cellIndex)},stripHtml:function(a){a=String(a);var b=/<("[^"]*"|'[^']*'|[^'">])*>/gi;return a?(a=a.replace(b,""),a&&"&nbsp;"!==a&&"&#160;"!==a?a.replace(/\"/g,"'"):""):a},stripPref:function(a,b){var c=$.type(a);return("string"===c||"number"===c)&&(a=String(a),b=""!==a?String(b).replace(String(a),""):b),b},parse:function(jsonString){var js=jsonString;return"while(1);"===js.substr(0,9)&&(js=js.substr(9)),"/*"===js.substr(0,2)&&(js=js.substr(2,js.length-4)),js||(js="{}"),$.jgrid.useJSON===!0&&"object"==typeof JSON&&"function"==typeof JSON.parse?JSON.parse(js):eval("("+js+")")},parseDate:function(a,b,c,d){var e,f,g,h=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,i=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,j=/[^-+\dA-Z]/g,k=new RegExp("^/Date\\((([-+])?[0-9]+)(([-+])([0-9]{2})([0-9]{2}))?\\)/$"),l="string"==typeof b?b.match(k):null,m=function(a,b){for(a=String(a),b=parseInt(b,10)||2;a.length<b;)a="0"+a;return a},n={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},o=0,p=function(a,b){return 0===a?12===b&&(b=0):12!==b&&(b+=12),b};if(void 0===d&&(d=$.jgrid.formatter.date),void 0===d.parseRe&&(d.parseRe=/[#%\\\/:_;.,\t\s-]/),d.masks.hasOwnProperty(a)&&(a=d.masks[a]),b&&null!=b)if(isNaN(b-0)||"u"!==String(a).toLowerCase())if(b.constructor===Date)o=b;else if(null!==l){if(o=new Date(parseInt(l[1],10)),l[3]){var q=60*Number(l[5])+Number(l[6]);q*="-"===l[4]?1:-1,q-=o.getTimezoneOffset(),o.setTime(Number(Number(o)+60*q*1e3))}}else{var q=0;for("ISO8601Long"===d.srcformat&&"Z"===b.charAt(b.length-1)&&(q-=(new Date).getTimezoneOffset()),b=String(b).replace(/\T/g,"#").replace(/\t/,"%").split(d.parseRe),a=a.replace(/\T/g,"#").replace(/\t/,"%").split(d.parseRe),f=0,g=a.length;g>f;f++)"M"===a[f]&&(e=$.inArray(b[f],d.monthNames),-1!==e&&12>e&&(b[f]=e+1,n.m=b[f])),"F"===a[f]&&(e=$.inArray(b[f],d.monthNames,12),-1!==e&&e>11&&(b[f]=e+1-12,n.m=b[f])),"a"===a[f]&&(e=$.inArray(b[f],d.AmPm),-1!==e&&2>e&&b[f]===d.AmPm[e]&&(b[f]=e,n.h=p(b[f],n.h))),"A"===a[f]&&(e=$.inArray(b[f],d.AmPm),-1!==e&&e>1&&b[f]===d.AmPm[e]&&(b[f]=e-2,n.h=p(b[f],n.h))),"g"===a[f]&&(n.h=parseInt(b[f],10)),void 0!==b[f]&&(n[a[f].toLowerCase()]=parseInt(b[f],10));if(n.f&&(n.m=n.f),0===n.m&&0===n.y&&0===n.d)return"&#160;";n.m=parseInt(n.m,10)-1;var r=n.y;r>=70&&99>=r?n.y=1900+n.y:r>=0&&69>=r&&(n.y=2e3+n.y),o=new Date(n.y,n.m,n.d,n.h,n.i,n.s,n.u),q>0&&o.setTime(Number(Number(o)+60*q*1e3))}else o=new Date(1e3*parseFloat(b));else o=new Date(n.y,n.m,n.d,n.h,n.i,n.s,n.u);if(void 0===c)return o;d.masks.hasOwnProperty(c)?c=d.masks[c]:c||(c="Y-m-d");var s=o.getHours(),t=o.getMinutes(),u=o.getDate(),v=o.getMonth()+1,w=o.getTimezoneOffset(),x=o.getSeconds(),y=o.getMilliseconds(),z=o.getDay(),A=o.getFullYear(),B=(z+6)%7+1,C=(new Date(A,v-1,u)-new Date(A,0,1))/864e5,D={d:m(u),D:d.dayNames[z],j:u,l:d.dayNames[z+7],N:B,S:d.S(u),w:z,z:C,W:5>B?Math.floor((C+B-1)/7)+1:Math.floor((C+B-1)/7)||((new Date(A-1,0,1).getDay()+6)%7<4?53:52),F:d.monthNames[v-1+12],m:m(v),M:d.monthNames[v-1],n:v,t:"?",L:"?",o:"?",Y:A,y:String(A).substring(2),a:12>s?d.AmPm[0]:d.AmPm[1],A:12>s?d.AmPm[2]:d.AmPm[3],B:"?",g:s%12||12,G:s,h:m(s%12||12),H:m(s),i:m(t),s:m(x),u:y,e:"?",I:"?",O:(w>0?"-":"+")+m(100*Math.floor(Math.abs(w)/60)+Math.abs(w)%60,4),P:"?",T:(String(o).match(i)||[""]).pop().replace(j,""),Z:"?",c:"?",r:"?",U:Math.floor(o/1e3)};return c.replace(h,function(a){return D.hasOwnProperty(a)?D[a]:a.substring(1)})},jqID:function(a){return String(a).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},guid:1,uidPref:"jqg",randId:function(a){return(a||$.jgrid.uidPref)+$.jgrid.guid++},getAccessor:function(a,b){var c,d,e,f=[];if("function"==typeof b)return b(a);if(c=a[b],void 0===c)try{if("string"==typeof b&&(f=b.split(".")),e=f.length)for(c=a;c&&e--;)d=f.shift(),c=c[d]}catch(g){}return c},getXmlData:function(a,b,c){var d,e="string"==typeof b?b.match(/^(.*)\[(\w+)\]$/):null;return"function"==typeof b?b(a):e&&e[2]?e[1]?$(e[1],a).attr(e[2]):$(a).attr(e[2]):(d=$(b,a),c?d:d.length>0?$(d).text():void 0)},cellWidth:function(){var a=$("<div class='ui-jqgrid' style='left:10000px'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div>"),b=a.appendTo("body").find("td").width();return a.remove(),Math.abs(b-5)>.1},cell_width:!0,ajaxOptions:{},from:function(source){var QueryObject=function(d,q){"string"==typeof d&&(d=$.data(d));var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],_useProperties=!0;if("object"!=typeof d||!d.push)throw"data provides is not an array";return d.length>0&&(_useProperties="object"!=typeof d[0]?!1:!0),this._hasData=function(){return null===_data?!1:0===_data.length?!1:!0},this._getStr=function(a){var b=[];return _trim&&b.push("jQuery.trim("),b.push("String("+a+")"),_trim&&b.push(")"),_usecase||b.push(".toLowerCase()"),b.join("")},this._strComp=function(a){return"string"==typeof a?".toString()":""},this._group=function(a,b){return{field:a.toString(),unique:b,items:[]}},this._toStr=function(a){return _trim&&(a=$.trim(a)),a=a.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?a:a.toLowerCase()},this._funcLoop=function(a){var b=[];return $.each(_data,function(c,d){b.push(a(d))}),b},this._append=function(a){var b;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,b=0;_orDepth>b;b++)_query+="(";_negate&&(_query+="!"),_query+="("+a+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(a,b){_lastCommand=a,_lastField=b},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(a,b){return null===_lastCommand?self:null!==a&&null!==b?_lastCommand(a,b):null===_lastField?_lastCommand(a):_useProperties?_lastCommand(_lastField,a):_lastCommand(a)},this._equals=function(a,b){return 0===self._compare(a,b,1)},this._compare=function(a,b,c){var d=Object.prototype.toString;return void 0===c&&(c=1),void 0===a&&(a=null),void 0===b&&(b=null),null===a&&null===b?0:null===a&&null!==b?1:null!==a&&null===b?-1:"[object Date]"===d.call(a)&&"[object Date]"===d.call(b)?b>a?-c:a>b?c:0:(_usecase||"number"==typeof a||"number"==typeof b||(a=String(a),b=String(b)),b>a?-c:a>b?c:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(a,b){var c=_sorting[b].by,d=_sorting[b].dir,e=_sorting[b].type,f=_sorting[b].datefmt,g=_sorting[b].sfunc;if(b===_sorting.length-1)return self._getOrder(a,c,d,e,f,g);b++;var h,i,j,k=self._getGroup(a,c,d,e,f),l=[];for(h=0;h<k.length;h++)for(j=self._doSort(k[h].items,b),i=0;i<j.length;i++)l.push(j[i]);return l},this._getOrder=function(a,b,c,d,e,f){var g,h,i,j,k=[],l=[],m="a"===c?1:-1;void 0===d&&(d="text"),j="float"===d||"number"===d||"currency"===d||"numeric"===d?function(a){var b=parseFloat(String(a).replace(_stripNum,""));return isNaN(b)?0:b}:"int"===d||"integer"===d?function(a){return a?parseFloat(String(a).replace(_stripNum,"")):0}:"date"===d||"datetime"===d?function(a){return $.jgrid.parseDate(e,a).getTime()}:$.isFunction(d)?d:function(a){return a=a?$.trim(String(a)):"",_usecase?a:a.toLowerCase()},$.each(a,function(a,c){h=""!==b?$.jgrid.getAccessor(c,b):c,void 0===h&&(h=""),h=j(h,c),l.push({vSort:h,index:a})}),$.isFunction(f)?l.sort(function(a,b){return a=a.vSort,b=b.vSort,f.call(this,a,b,m)}):l.sort(function(a,b){return a=a.vSort,b=b.vSort,self._compare(a,b,m)}),i=0;for(var n=a.length;n>i;)g=l[i].index,k.push(a[g]),i++;return k},this._getGroup=function(a,b,c,d,e){var f,g=[],h=null,i=null;return $.each(self._getOrder(a,b,c,d,e),function(a,c){f=$.jgrid.getAccessor(c,b),null==f&&(f=""),self._equals(i,f)||(i=f,null!==h&&g.push(h),h=self._group(b,f)),h.items.push(c)}),null!==h&&g.push(h),g},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){eval(match)&&results.push(this)}),_data=results,self)},this.data=function(){return _data},this.select=function(a){if(self._performSort(),!self._hasData())return[];if(self.execute(),$.isFunction(a)){var b=[];return $.each(_data,function(c,d){b.push(a(d))}),b}return _data},this.hasMatch=function(){return self._hasData()?(self.execute(),_data.length>0):!1},this.andNot=function(a,b,c){return _negate=!_negate,self.and(a,b,c)},this.orNot=function(a,b,c){return _negate=!_negate,self.or(a,b,c)},this.not=function(a,b,c){return self.andNot(a,b,c)},this.and=function(a,b,c){return _queuedOperator=" && ",void 0===a?self:self._repeatCommand(a,b,c)},this.or=function(a,b,c){return _queuedOperator=" || ",void 0===a?self:self._repeatCommand(a,b,c)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(a){return _negate=!_negate,self.is(a)},this.is=function(a){return self._append("this."+a),self._resetNegate(),self},this._compareValues=function(a,b,c,d,e){var f;f=_useProperties?"jQuery.jgrid.getAccessor(this,'"+b+"')":"this",void 0===c&&(c=null);var g=c,h=void 0===e.stype?"text":e.stype;if(null!==c)switch(h){case"int":case"integer":g=isNaN(Number(g))||""===g?"0":g,f="parseInt("+f+",10)",g="parseInt("+g+",10)";break;case"float":case"number":case"numeric":g=String(g).replace(_stripNum,""),g=isNaN(Number(g))||""===g?"0":g,f="parseFloat("+f+")",g="parseFloat("+g+")";break;case"date":case"datetime":g=String($.jgrid.parseDate(e.newfmt||"Y-m-d",g).getTime()),f='jQuery.jgrid.parseDate("'+e.srcfmt+'",'+f+").getTime()";break;default:f=self._getStr(f),g=self._getStr('"'+self._toStr(g)+'"')}return self._append(f+" "+d+" "+g),self._setCommand(a,b),self._resetNegate(),self},this.equals=function(a,b,c){return self._compareValues(self.equals,a,b,"==",c)},this.notEquals=function(a,b,c){return self._compareValues(self.equals,a,b,"!==",c)},this.isNull=function(a,b,c){return self._compareValues(self.equals,a,null,"===",c)},this.greater=function(a,b,c){return self._compareValues(self.greater,a,b,">",c)},this.less=function(a,b,c){return self._compareValues(self.less,a,b,"<",c)},this.greaterOrEquals=function(a,b,c){return self._compareValues(self.greaterOrEquals,a,b,">=",c)},this.lessOrEquals=function(a,b,c){return self._compareValues(self.lessOrEquals,a,b,"<=",c)},this.startsWith=function(a,b){var c=null==b?a:b,d=_trim?$.trim(c.toString()).length:c.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".substr(0,"+d+") == "+self._getStr('"'+self._toStr(b)+'"')):(null!=b&&(d=_trim?$.trim(b.toString()).length:b.toString().length),self._append(self._getStr("this")+".substr(0,"+d+") == "+self._getStr('"'+self._toStr(a)+'"'))),self._setCommand(self.startsWith,a),self._resetNegate(),self},this.endsWith=function(a,b){var c=null==b?a:b,d=_trim?$.trim(c.toString()).length:c.toString().length;return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".substr("+self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+".length-"+d+","+d+') == "'+self._toStr(b)+'"'):self._append(self._getStr("this")+".substr("+self._getStr("this")+'.length-"'+self._toStr(a)+'".length,"'+self._toStr(a)+'".length) == "'+self._toStr(a)+'"'),self._setCommand(self.endsWith,a),self._resetNegate(),self},this.contains=function(a,b){return _useProperties?self._append(self._getStr("jQuery.jgrid.getAccessor(this,'"+a+"')")+'.indexOf("'+self._toStr(b)+'",0) > -1'):self._append(self._getStr("this")+'.indexOf("'+self._toStr(a)+'",0) > -1'),self._setCommand(self.contains,a),self._resetNegate(),self},this.groupBy=function(a,b,c,d){return self._hasData()?self._getGroup(_data,a,b,c,d):null},this.orderBy=function(a,b,c,d,e){return b=null==b?"a":$.trim(b.toString().toLowerCase()),null==c&&(c="text"),null==d&&(d="Y-m-d"),null==e&&(e=!1),("desc"===b||"descending"===b)&&(b="d"),("asc"===b||"ascending"===b)&&(b="a"),_sorting.push({by:a,dir:b,type:c,datefmt:d,sfunc:e}),self},self};return new QueryObject(source,null)},getMethod:function(a){return this.getAccessor($.fn.jqGrid,a)},extend:function(a){$.extend($.fn.jqGrid,a),this.no_legacy_api||$.fn.extend(a)}}),$.fn.jqGrid=function(a){if("string"==typeof a){var b=$.jgrid.getMethod(a);if(!b)throw"jqGrid - No such method: "+a;var c=$.makeArray(arguments).slice(1);return b.apply(this,c)}return this.each(function(){if(!this.grid){var b=$.extend(!0,{url:"",height:150,page:1,rowNum:20,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],rowList:[],colNames:[],sortorder:"asc",sortname:"",datatype:"xml",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],shrinkToFit:!0,xmlReader:{},jsonReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:null,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,multiselect:!1,multikey:!1,editurl:null,search:!1,caption:"",hidegrid:!0,hiddengrid:!1,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",nd:"nd",id:"id",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,cellsubmit:"remote",nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:20,multiselectWidth:20,gridview:!1,rownumWidth:25,rownumbers:!1,pagerpos:"center",recordpos:"right",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,remapColumns:[],ajaxGridOptions:{},direction:"ltr",toppager:!1,headertitles:!1,scrollTimeout:40,data:[],_index:{},grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,sortitems:[],sortnames:[],summary:[],summaryval:[],plusicon:"ui-icon-circlesmall-plus",minusicon:"ui-icon-circlesmall-minus",displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1},ignoreCase:!1,cmTemplate:{},idPrefix:"",multiSort:!1},$.jgrid.defaults,a||{}),c=this,d={headers:[],cols:[],footers:[],dragStart:function(a,d,e){var f=$(this.bDiv).offset().left;this.resizing={idx:a,startX:d.clientX,sOL:d.clientX-f},this.hDiv.style.cursor="col-resize",this.curGbox=$("#rs_m"+$.jgrid.jqID(b.id),"#gbox_"+$.jgrid.jqID(b.id)),this.curGbox.css({display:"block",left:d.clientX-f,top:e[1],height:e[2]}),$(c).triggerHandler("jqGridResizeStart",[d,a]),$.isFunction(b.resizeStart)&&b.resizeStart.call(c,d,a),document.onselectstart=function(){return!1}},dragMove:function(a){if(this.resizing){var c,d,e=a.clientX-this.resizing.startX,f=this.headers[this.resizing.idx],g="ltr"===b.direction?f.width+e:f.width-e;g>33&&(this.curGbox.css({left:this.resizing.sOL+e}),b.forceFit===!0?(c=this.headers[this.resizing.idx+b.nv],d="ltr"===b.direction?c.width-e:c.width+e,d>33&&(f.newWidth=g,c.newWidth=d)):(this.newWidth="ltr"===b.direction?b.tblwidth+e:b.tblwidth-e,f.newWidth=g))}},dragEnd:function(){if(this.hDiv.style.cursor="default",this.resizing){var a=this.resizing.idx,d=this.headers[a].newWidth||this.headers[a].width;d=parseInt(d,10),this.resizing=!1,$("#rs_m"+$.jgrid.jqID(b.id)).css("display","none"),b.colModel[a].width=d,this.headers[a].width=d,this.headers[a].el.style.width=d+"px",this.cols[a].style.width=d+"px",this.footers.length>0&&(this.footers[a].style.width=d+"px"),b.forceFit===!0?(d=this.headers[a+b.nv].newWidth||this.headers[a+b.nv].width,this.headers[a+b.nv].width=d,this.headers[a+b.nv].el.style.width=d+"px",this.cols[a+b.nv].style.width=d+"px",this.footers.length>0&&(this.footers[a+b.nv].style.width=d+"px"),b.colModel[a+b.nv].width=d):(b.tblwidth=this.newWidth||b.tblwidth,$("table:first",this.bDiv).css("width",b.tblwidth+"px"),$("table:first",this.hDiv).css("width",b.tblwidth+"px"),this.hDiv.scrollLeft=this.bDiv.scrollLeft,b.footerrow&&($("table:first",this.sDiv).css("width",b.tblwidth+"px"),this.sDiv.scrollLeft=this.bDiv.scrollLeft)),$(c).triggerHandler("jqGridResizeStop",[d,a]),$.isFunction(b.resizeStop)&&b.resizeStop.call(c,d,a)}this.curGbox=null,document.onselectstart=function(){return!0}},populateVisible:function(){d.timer&&clearTimeout(d.timer),d.timer=null;var a=$(d.bDiv).height();if(a){var c,e,f=$("table:first",d.bDiv);if(f[0].rows.length)try{c=f[0].rows[1],e=c?$(c).outerHeight()||d.prevRowHeight:d.prevRowHeight}catch(g){e=d.prevRowHeight}if(e){d.prevRowHeight=e;var h,i,j,k=b.rowNum,l=d.scrollTop=d.bDiv.scrollTop,m=Math.round(f.position().top)-l,n=m+f.height(),o=e*k;if(a>n&&0>=m&&(void 0===b.lastpage||parseInt((n+l+o-1)/o,10)<=b.lastpage)&&(i=parseInt((a-n+o-1)/o,10),n>=0||2>i||b.scroll===!0?(h=Math.round((n+l)/o)+1,m=-1):m=1),m>0&&(h=parseInt(l/o,10)+1,i=parseInt((l+a)/o,10)+2-h,j=!0),i){if(b.lastpage&&(h>b.lastpage||1===b.lastpage||h===b.page&&h===b.lastpage))return;d.hDiv.loading?d.timer=setTimeout(d.populateVisible,b.scrollTimeout):(b.page=h,j&&(d.selectionPreserver(f[0]),d.emptyRows.call(f[0],!1,!1)),d.populate(i))}}}},scrollGrid:function(a){if(b.scroll){var c=d.bDiv.scrollTop;void 0===d.scrollTop&&(d.scrollTop=0),c!==d.scrollTop&&(d.scrollTop=c,d.timer&&clearTimeout(d.timer),d.timer=setTimeout(d.populateVisible,b.scrollTimeout))}d.hDiv.scrollLeft=d.bDiv.scrollLeft,b.footerrow&&(d.sDiv.scrollLeft=d.bDiv.scrollLeft),a&&a.stopPropagation()},selectionPreserver:function(a){var b=a.p,c=b.selrow,d=b.selarrrow?$.makeArray(b.selarrrow):null,e=a.grid.bDiv.scrollLeft,f=function(){var g;if(b.selrow=null,b.selarrrow=[],b.multiselect&&d&&d.length>0)for(g=0;g<d.length;g++)d[g]!==c&&$(a).jqGrid("setSelection",d[g],!1,null);c&&$(a).jqGrid("setSelection",c,!1,null),a.grid.bDiv.scrollLeft=e,$(a).unbind(".selectionPreserver",f)};$(a).bind("jqGridGridComplete.selectionPreserver",f)}};if("TABLE"!==this.tagName.toUpperCase())return void alert("Element is not a table");if(void 0!==document.documentMode&&document.documentMode<=5)return void alert("grid can not be used in this ('quirks') mode!");$(this).empty().attr("tabindex","0"),this.p=b,this.p.useProp=!!$.fn.prop;var e,f;if(0===this.p.colNames.length)for(e=0;e<this.p.colModel.length;e++)this.p.colNames[e]=this.p.colModel[e].label||this.p.colModel[e].name;if(this.p.colNames.length!==this.p.colModel.length)return void alert($.jgrid.errors.model);var g=$("<div class='ui-jqgrid-view'></div>"),h=$.jgrid.msie;c.p.direction=$.trim(c.p.direction.toLowerCase()),-1===$.inArray(c.p.direction,["ltr","rtl"])&&(c.p.direction="ltr"),f=c.p.direction,$(g).insertBefore(this),$(this).removeClass("scroll").appendTo(g);var i=$("<div class='ui-jqgrid ui-widget ui-widget-content ui-corner-all'></div>");$(i).attr({id:"gbox_"+this.id,dir:f}).insertBefore(g),$(g).attr("id","gview_"+this.id).appendTo(i),$("<div class='ui-widget-overlay jqgrid-overlay' id='lui_"+this.id+"'></div>").insertBefore(g),$("<div class='loading ui-state-default ui-state-active' id='load_"+this.id+"'>"+this.p.loadtext+"</div>").insertBefore(g),$(this).attr({cellspacing:"0",cellpadding:"0",border:"0",role:"grid","aria-multiselectable":!!this.p.multiselect,"aria-labelledby":"gbox_"+this.id});var j=["shiftKey","altKey","ctrlKey"],k=function(a,b){return a=parseInt(a,10),isNaN(a)?b||0:a},l=function(a,b,e,f,g,h){var i,j=c.p.colModel[a],k=j.align,l='style="',m=j.classes,n=j.name,o=[];return k&&(l+="text-align:"+k+";"),j.hidden===!0&&(l+="display:none;"),0===b?l+="width: "+d.headers[a].width+"px;":j.cellattr&&$.isFunction(j.cellattr)&&(i=j.cellattr.call(c,g,e,f,j,h),i&&"string"==typeof i&&(i=i.replace(/style/i,"style").replace(/title/i,"title"),i.indexOf("title")>-1&&(j.title=!1),i.indexOf("class")>-1&&(m=void 0),o=i.replace("-style","-sti").split(/style/),2===o.length?(o[1]=$.trim(o[1].replace("-sti","-style").replace("=","")),(0===o[1].indexOf("'")||0===o[1].indexOf('"'))&&(o[1]=o[1].substring(1)),l+=o[1].replace(/'/gi,'"')):l+='"')),o.length||(o[0]="",l+='"'),l+=(void 0!==m?' class="'+m+'"':"")+(j.title&&e?' title="'+$.jgrid.stripHtml(e)+'"':""),l+=' aria-describedby="'+c.p.id+"_"+n+'"',l+o[0]},m=function(a){return null==a||""===a?"&#160;":c.p.autoencode?$.jgrid.htmlEncode(a):String(a)},n=function(a,b,d,e,f){var g,h=c.p.colModel[d];if(void 0!==h.formatter){a=""!==String(c.p.idPrefix)?$.jgrid.stripPref(c.p.idPrefix,a):a;var i={rowId:a,colModel:h,gid:c.p.id,pos:d};g=$.isFunction(h.formatter)?h.formatter.call(c,b,i,e,f):$.fmatter?$.fn.fmatter.call(c,h.formatter,b,i,e,f):m(b)}else g=m(b);return g},o=function(a,b,c,d,e,f){var g,h;return g=n(a,b,c,e,"add"),h=l(c,d,g,e,a,f),'<td role="gridcell" '+h+">"+g+"</td>"},p=function(a,b,d,e){var f='<input role="checkbox" type="checkbox" id="jqg_'+c.p.id+"_"+a+'" class="cbox" name="jqg_'+c.p.id+"_"+a+'"'+(e?'checked="checked"':"")+"/>",g=l(b,d,"",null,a,!0);return'<td role="gridcell" '+g+">"+f+"</td>"},q=function(a,b,c,d){var e=(parseInt(c,10)-1)*parseInt(d,10)+1+b,f=l(a,b,e,null,b,!0);return'<td role="gridcell" class="ui-state-default jqgrid-rownum" '+f+">"+e+"</td>"},r=function(a){var b,d,e=[],f=0;for(d=0;d<c.p.colModel.length;d++)b=c.p.colModel[d],"cb"!==b.name&&"subgrid"!==b.name&&"rn"!==b.name&&(e[f]="local"===a?b.name:"xml"===a||"xmlstring"===a?b.xmlmap||b.name:b.jsonmap||b.name,c.p.keyIndex!==!1&&b.key===!0&&(c.p.keyName=e[f]),f++);return e},s=function(a){var b=c.p.remapColumns;return b&&b.length||(b=$.map(c.p.colModel,function(a,b){return b})),a&&(b=$.map(b,function(b){return a>b?null:b-a})),b},t=function(a,b){var c;this.p.deepempty?$(this.rows).slice(1).remove():(c=this.rows.length>0?this.rows[0]:null,$(this.firstChild).empty().append(c)),a&&this.p.scroll&&($(this.grid.bDiv.firstChild).css({height:"auto"}),$(this.grid.bDiv.firstChild.firstChild).css({height:0,display:"none"}),0!==this.grid.bDiv.scrollTop&&(this.grid.bDiv.scrollTop=0)),b===!0&&this.p.treeGrid&&(this.p.data=[],this.p._index={})},u=function(){var a,b,d,e=c.p.data.length,f=c.p.rownumbers===!0?1:0,g=c.p.multiselect===!0?1:0,h=c.p.subGrid===!0?1:0;for(a=c.p.keyIndex===!1||c.p.loadonce===!0?c.p.localReader.id:c.p.colModel[c.p.keyIndex+g+h+f].name,b=0;e>b;b++)d=$.jgrid.getAccessor(c.p.data[b],a),void 0===d&&(d=String(b+1)),c.p._index[d]=b},v=function(a,b,d,e,f,g){var h,i="-1",j="",k=b?"display:none;":"",l="ui-widget-content jqgrow ui-row-"+c.p.direction+(d?" "+d:"")+(g?" ui-state-highlight":""),m=$(c).triggerHandler("jqGridRowAttr",[e,f,a]);if("object"!=typeof m&&(m=$.isFunction(c.p.rowattr)?c.p.rowattr.call(c,e,f,a):{}),!$.isEmptyObject(m)){m.hasOwnProperty("id")&&(a=m.id,delete m.id),m.hasOwnProperty("tabindex")&&(i=m.tabindex,delete m.tabindex),m.hasOwnProperty("style")&&(k+=m.style,delete m.style),m.hasOwnProperty("class")&&(l+=" "+m["class"],delete m["class"]);try{delete m.role}catch(n){}for(h in m)m.hasOwnProperty(h)&&(j+=" "+h+"="+m[h])}return'<tr role="row" id="'+a+'" tabindex="'+i+'" class="'+l+'"'+(""===k?"":' style="'+k+'"')+j+">"},w=function(a,b,d,e,f){var g=new Date,h="local"!==c.p.datatype&&c.p.loadonce||"xmlstring"===c.p.datatype,i="_id_",j=c.p.xmlReader,l="local"===c.p.datatype?"local":"xml";if(h&&(c.p.data=[],c.p._index={},c.p.localReader.id=i),c.p.reccount=0,$.isXMLDoc(a)){-1!==c.p.treeANode||c.p.scroll?d=d>1?d:1:(t.call(c,!1,!0),d=1);var m,n,u,w,x,y,z,A,B,C,D=$(c),E=0,F=c.p.multiselect===!0?1:0,G=0,H=c.p.rownumbers===!0?1:0,I=[],J={},K=[],L=c.p.altRows===!0?c.p.altclass:"";c.p.subGrid===!0&&(G=1,w=$.jgrid.getMethod("addSubGridCell")),j.repeatitems||(I=r(l)),x=c.p.keyIndex===!1?$.isFunction(j.id)?j.id.call(c,a):j.id:c.p.keyIndex,I.length>0&&!isNaN(x)&&(x=c.p.keyName),y=-1===String(x).indexOf("[")?I.length?function(a,b){return $(x,a).text()||b}:function(a,b){return $(j.cell,a).eq(x).text()||b}:function(a,b){return a.getAttribute(x.replace(/[\[\]]/g,""))||b},c.p.userData={},c.p.page=k($.jgrid.getXmlData(a,j.page),c.p.page),c.p.lastpage=k($.jgrid.getXmlData(a,j.total),1),c.p.records=k($.jgrid.getXmlData(a,j.records)),$.isFunction(j.userdata)?c.p.userData=j.userdata.call(c,a)||{}:$.jgrid.getXmlData(a,j.userdata,!0).each(function(){c.p.userData[this.getAttribute("name")]=$(this).text()});var M=$.jgrid.getXmlData(a,j.root,!0);M=$.jgrid.getXmlData(M,j.row,!0),M||(M=[]);var N,O=M.length,P=0,Q=[],R=parseInt(c.p.rowNum,10),S=c.p.scroll?$.jgrid.randId():1;if(O>0&&c.p.page<=0&&(c.p.page=1),M&&O){f&&(R*=f+1);var T,U=$.isFunction(c.p.afterInsertRow),V=!1;for(c.p.grouping&&(V=c.p.groupingView.groupCollapse===!0,T=$.jgrid.getMethod("groupingPrepare"));O>P;){A=M[P],B=y(A,S+P),B=c.p.idPrefix+B,N=0===d?0:d+1,C=(N+P)%2===1?L:"";var W=K.length;if(K.push(""),H&&K.push(q(0,P,c.p.page,c.p.rowNum)),F&&K.push(p(B,H,P,!1)),G&&K.push(w.call(D,F+H,P+d)),j.repeatitems){z||(z=s(F+G+H));var X=$.jgrid.getXmlData(A,j.cell,!0);$.each(z,function(a){var b=X[this];return b?(u=b.textContent||b.text,J[c.p.colModel[a+F+G+H].name]=u,void K.push(o(B,u,a+F+G+H,P+d,A,J))):!1})}else for(m=0;m<I.length;m++)u=$.jgrid.getXmlData(A,I[m]),J[c.p.colModel[m+F+G+H].name]=u,K.push(o(B,u,m+F+G+H,P+d,A,J));if(K[W]=v(B,V,C,J,A,!1),K.push("</tr>"),c.p.grouping&&(Q.push(K),c.p.groupingView._locgr||T.call(D,J,P),K=[]),(h||c.p.treeGrid===!0)&&(J[i]=$.jgrid.stripPref(c.p.idPrefix,B),c.p.data.push(J),c.p._index[J[i]]=c.p.data.length-1),c.p.gridview===!1&&($("tbody:first",b).append(K.join("")),D.triggerHandler("jqGridAfterInsertRow",[B,J,A]),U&&c.p.afterInsertRow.call(c,B,J,A),K=[]),J={},E++,P++,E===R)break}}if(c.p.gridview===!0&&(n=c.p.treeANode>-1?c.p.treeANode:0,c.p.grouping?(h||D.jqGrid("groupingRender",Q,c.p.colModel.length,c.p.page,R),Q=null):c.p.treeGrid===!0&&n>0?$(c.rows[n]).after(K.join("")):$("tbody:first",b).append(K.join(""))),c.p.subGrid===!0)try{D.jqGrid("addSubGrid",F+H)}catch(Y){}if(c.p.totaltime=new Date-g,E>0&&0===c.p.records&&(c.p.records=O),K=null,c.p.treeGrid===!0)try{D.jqGrid("setTreeNode",n+1,E+n+1)}catch(Z){}if(c.p.treeGrid||c.p.scroll||(c.grid.bDiv.scrollTop=0),c.p.reccount=E,c.p.treeANode=-1,c.p.userDataOnFooter&&D.jqGrid("footerData","set",c.p.userData,!0),h&&(c.p.records=O,c.p.lastpage=Math.ceil(O/R)),e||c.updatepager(!1,!0),h){for(;O>E;){if(A=M[E],B=y(A,E+S),B=c.p.idPrefix+B,j.repeatitems){z||(z=s(F+G+H));var _=$.jgrid.getXmlData(A,j.cell,!0);$.each(z,function(a){var b=_[this];return b?(u=b.textContent||b.text,void(J[c.p.colModel[a+F+G+H].name]=u)):!1})}else for(m=0;m<I.length;m++)u=$.jgrid.getXmlData(A,I[m]),J[c.p.colModel[m+F+G+H].name]=u;J[i]=$.jgrid.stripPref(c.p.idPrefix,B),c.p.grouping&&T.call(D,J,E),c.p.data.push(J),c.p._index[J[i]]=c.p.data.length-1,J={},E++}c.p.grouping&&(c.p.groupingView._locgr=!0,D.jqGrid("groupingRender",Q,c.p.colModel.length,c.p.page,R),Q=null)}}},x=function(a,b,d,e,f){var g=new Date;if(a){-1!==c.p.treeANode||c.p.scroll?d=d>1?d:1:(t.call(c,!1,!0),d=1);var h,i,j="_id_",l="local"!==c.p.datatype&&c.p.loadonce||"jsonstring"===c.p.datatype;l&&(c.p.data=[],c.p._index={},c.p.localReader.id=j),c.p.reccount=0,"local"===c.p.datatype?(h=c.p.localReader,i="local"):(h=c.p.jsonReader,i="json");var m,n,u,w,x,y,z,A,B,C,D,E,F=$(c),G=0,H=[],I=c.p.multiselect?1:0,J=c.p.subGrid===!0?1:0,K=c.p.rownumbers===!0?1:0,L=s(I+J+K),M=r(i),N={},O=[],P=c.p.altRows===!0?c.p.altclass:"";c.p.page=k($.jgrid.getAccessor(a,h.page),c.p.page),c.p.lastpage=k($.jgrid.getAccessor(a,h.total),1),c.p.records=k($.jgrid.getAccessor(a,h.records)),c.p.userData=$.jgrid.getAccessor(a,h.userdata)||{},J&&(x=$.jgrid.getMethod("addSubGridCell")),B=c.p.keyIndex===!1?$.isFunction(h.id)?h.id.call(c,a):h.id:c.p.keyIndex,h.repeatitems||(H=M,H.length>0&&!isNaN(B)&&(B=c.p.keyName)),A=$.jgrid.getAccessor(a,h.root),null==A&&$.isArray(a)&&(A=a),A||(A=[]),z=A.length,n=0,z>0&&c.p.page<=0&&(c.p.page=1);var Q,R,S=parseInt(c.p.rowNum,10),T=c.p.scroll?$.jgrid.randId():1,U=!1;f&&(S*=f+1),"local"!==c.p.datatype||c.p.deselectAfterSort||(U=!0);var V,W=$.isFunction(c.p.afterInsertRow),X=[],Y=!1;for(c.p.grouping&&(Y=c.p.groupingView.groupCollapse===!0,V=$.jgrid.getMethod("groupingPrepare"));z>n;){if(w=A[n],D=$.jgrid.getAccessor(w,B),void 0===D&&("number"==typeof B&&null!=c.p.colModel[B+I+J+K]&&(D=$.jgrid.getAccessor(w,c.p.colModel[B+I+J+K].name)),void 0===D&&(D=T+n,0===H.length&&h.cell))){var Z=$.jgrid.getAccessor(w,h.cell)||w;D=null!=Z&&void 0!==Z[B]?Z[B]:D,Z=null}D=c.p.idPrefix+D,Q=1===d?0:d,E=(Q+n)%2===1?P:"",U&&(R=c.p.multiselect?-1!==$.inArray(D,c.p.selarrrow):D===c.p.selrow);var _=O.length;for(O.push(""),K&&O.push(q(0,n,c.p.page,c.p.rowNum)),I&&O.push(p(D,K,n,R)),J&&O.push(x.call(F,I+K,n+d)),y=M,h.repeatitems&&(h.cell&&(w=$.jgrid.getAccessor(w,h.cell)||w),$.isArray(w)&&(y=L)),u=0;u<y.length;u++)m=$.jgrid.getAccessor(w,y[u]),N[c.p.colModel[u+I+J+K].name]=m,O.push(o(D,m,u+I+J+K,n+d,w,N));if(O[_]=v(D,Y,E,N,w,R),O.push("</tr>"),c.p.grouping&&(X.push(O),c.p.groupingView._locgr||V.call(F,N,n),O=[]),(l||c.p.treeGrid===!0)&&(N[j]=$.jgrid.stripPref(c.p.idPrefix,D),c.p.data.push(N),c.p._index[N[j]]=c.p.data.length-1),c.p.gridview===!1&&($("#"+$.jgrid.jqID(c.p.id)+" tbody:first").append(O.join("")),F.triggerHandler("jqGridAfterInsertRow",[D,N,w]),W&&c.p.afterInsertRow.call(c,D,N,w),O=[]),N={},G++,n++,G===S)break}if(c.p.gridview===!0&&(C=c.p.treeANode>-1?c.p.treeANode:0,c.p.grouping?l||(F.jqGrid("groupingRender",X,c.p.colModel.length,c.p.page,S),X=null):c.p.treeGrid===!0&&C>0?$(c.rows[C]).after(O.join("")):$("#"+$.jgrid.jqID(c.p.id)+" tbody:first").append(O.join(""))),c.p.subGrid===!0)try{F.jqGrid("addSubGrid",I+K)}catch(aa){}if(c.p.totaltime=new Date-g,G>0&&0===c.p.records&&(c.p.records=z),O=null,c.p.treeGrid===!0)try{F.jqGrid("setTreeNode",C+1,G+C+1)}catch(ba){}if(c.p.treeGrid||c.p.scroll||(c.grid.bDiv.scrollTop=0),c.p.reccount=G,c.p.treeANode=-1,c.p.userDataOnFooter&&F.jqGrid("footerData","set",c.p.userData,!0),l&&(c.p.records=z,c.p.lastpage=Math.ceil(z/S)),e||c.updatepager(!1,!0),l){for(;z>G&&A[G];){if(w=A[G],D=$.jgrid.getAccessor(w,B),void 0===D&&("number"==typeof B&&null!=c.p.colModel[B+I+J+K]&&(D=$.jgrid.getAccessor(w,c.p.colModel[B+I+J+K].name)),void 0===D&&(D=T+G,0===H.length&&h.cell))){var ca=$.jgrid.getAccessor(w,h.cell)||w;D=null!=ca&&void 0!==ca[B]?ca[B]:D,ca=null}if(w){for(D=c.p.idPrefix+D,y=M,h.repeatitems&&(h.cell&&(w=$.jgrid.getAccessor(w,h.cell)||w),$.isArray(w)&&(y=L)),u=0;u<y.length;u++)N[c.p.colModel[u+I+J+K].name]=$.jgrid.getAccessor(w,y[u]);N[j]=$.jgrid.stripPref(c.p.idPrefix,D),c.p.grouping&&V.call(F,N,G),c.p.data.push(N),c.p._index[N[j]]=c.p.data.length-1,N={}}G++}c.p.grouping&&(c.p.groupingView._locgr=!0,F.jqGrid("groupingRender",X,c.p.colModel.length,c.p.page,S),X=null)}}},y=function(){function a(b){var c,d,e,f,g,h=0;if(null!=b.groups){for(d=b.groups.length&&"OR"===b.groupOp.toString().toUpperCase(),d&&p.orBegin(),c=0;c<b.groups.length;c++){h>0&&d&&p.or();try{a(b.groups[c])}catch(j){alert(j)}h++}d&&p.orEnd()}if(null!=b.rules)try{for(e=b.rules.length&&"OR"===b.groupOp.toString().toUpperCase(),
e&&p.orBegin(),c=0;c<b.rules.length;c++)g=b.rules[c],f=b.groupOp.toString().toUpperCase(),o[g.op]&&g.field&&(h>0&&f&&"OR"===f&&(p=p.or()),p=o[g.op](p,f)(g.field,g.data,i[g.field])),h++;e&&p.orEnd()}catch(k){alert(k)}}var b,d,e,f=c.p.multiSort?[]:"",g=[],h=!1,i={},j=[],k=[];if($.isArray(c.p.data)){var l,m,n=c.p.grouping?c.p.groupingView:!1;if($.each(c.p.colModel,function(){if(d=this.sorttype||"text","date"===d||"datetime"===d?(this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?(b=this.formatoptions&&this.formatoptions.srcformat?this.formatoptions.srcformat:$.jgrid.formatter.date.srcformat,e=this.formatoptions&&this.formatoptions.newformat?this.formatoptions.newformat:$.jgrid.formatter.date.newformat):b=e=this.datefmt||"Y-m-d",i[this.name]={stype:d,srcfmt:b,newfmt:e,sfunc:this.sortfunc||null}):i[this.name]={stype:d,srcfmt:"",newfmt:"",sfunc:this.sortfunc||null},c.p.grouping)for(m=0,l=n.groupField.length;l>m;m++)if(this.name===n.groupField[m]){var a=this.name;this.index&&(a=this.index),j[m]=i[a],k[m]=a}if(c.p.multiSort){if(this.lso){f.push(this.name);var o=this.lso.split("-");g.push(o[o.length-1])}}else h||this.index!==c.p.sortname&&this.name!==c.p.sortname||(f=this.name,h=!0)}),c.p.treeGrid)return void $(c).jqGrid("SortTree",f,c.p.sortorder,i[f].stype||"text",i[f].srcfmt||"");var o={eq:function(a){return a.equals},ne:function(a){return a.notEquals},lt:function(a){return a.less},le:function(a){return a.lessOrEquals},gt:function(a){return a.greater},ge:function(a){return a.greaterOrEquals},cn:function(a){return a.contains},nc:function(a,b){return"OR"===b?a.orNot().contains:a.andNot().contains},bw:function(a){return a.startsWith},bn:function(a,b){return"OR"===b?a.orNot().startsWith:a.andNot().startsWith},en:function(a,b){return"OR"===b?a.orNot().endsWith:a.andNot().endsWith},ew:function(a){return a.endsWith},ni:function(a,b){return"OR"===b?a.orNot().equals:a.andNot().equals},"in":function(a){return a.equals},nu:function(a){return a.isNull},nn:function(a,b){return"OR"===b?a.orNot().isNull:a.andNot().isNull}},p=$.jgrid.from(c.p.data);if(c.p.ignoreCase&&(p=p.ignoreCase()),c.p.search===!0){var q=c.p.postData.filters;if(q)"string"==typeof q&&(q=$.jgrid.parse(q)),a(q);else try{p=o[c.p.postData.searchOper](p)(c.p.postData.searchField,c.p.postData.searchString,i[c.p.postData.searchField])}catch(r){}}if(c.p.grouping)for(m=0;l>m;m++)p.orderBy(k[m],n.groupOrder[m],j[m].stype,j[m].srcfmt);c.p.multiSort?$.each(f,function(a){p.orderBy(this,g[a],i[this].stype,i[this].srcfmt,i[this].sfunc)}):f&&c.p.sortorder&&h&&("DESC"===c.p.sortorder.toUpperCase()?p.orderBy(c.p.sortname,"d",i[f].stype,i[f].srcfmt,i[f].sfunc):p.orderBy(c.p.sortname,"a",i[f].stype,i[f].srcfmt,i[f].sfunc));var s=p.select(),t=parseInt(c.p.rowNum,10),u=s.length,v=parseInt(c.p.page,10),w=Math.ceil(u/t),x={};if((c.p.search||c.p.resetsearch)&&c.p.grouping&&c.p.groupingView._locgr){c.p.groupingView.groups=[];var y,z,A,B=$.jgrid.getMethod("groupingPrepare");if(c.p.footerrow&&c.p.userDataOnFooter){for(z in c.p.userData)c.p.userData.hasOwnProperty(z)&&(c.p.userData[z]=0);A=!0}for(y=0;u>y;y++){if(A)for(z in c.p.userData)c.p.userData[z]+=parseFloat(s[y][z]||0);B.call($(c),s[y],y,t)}}return s=s.slice((v-1)*t,v*t),p=null,i=null,x[c.p.localReader.total]=w,x[c.p.localReader.page]=v,x[c.p.localReader.records]=u,x[c.p.localReader.root]=s,x[c.p.localReader.userdata]=c.p.userData,s=null,x}},z=function(a,b){var d,e,f,g,h,i,j,l,m="",n=c.p.pager?"_"+$.jgrid.jqID(c.p.pager.substr(1)):"",o=c.p.toppager?"_"+c.p.toppager.substr(1):"";if(f=parseInt(c.p.page,10)-1,0>f&&(f=0),f*=parseInt(c.p.rowNum,10),h=f+c.p.reccount,c.p.scroll){var p=$("tbody:first > tr:gt(0)",c.grid.bDiv);f=h-p.length,c.p.reccount=p.length;var q=p.outerHeight()||c.grid.prevRowHeight;if(q){var r=f*q,s=parseInt(c.p.records,10)*q;$(">div:first",c.grid.bDiv).css({height:s}).children("div:first").css({height:r,display:r?"":"none"}),0==c.grid.bDiv.scrollTop&&c.p.page>1&&(c.grid.bDiv.scrollTop=c.p.rowNum*(c.p.page-1)*q)}c.grid.bDiv.scrollLeft=c.grid.hDiv.scrollLeft}m=c.p.pager||"",m+=c.p.toppager?m?","+c.p.toppager:c.p.toppager:"",m&&(j=$.jgrid.formatter.integer||{},d=k(c.p.page),e=k(c.p.lastpage),$(".selbox",m)[this.p.useProp?"prop":"attr"]("disabled",!1),c.p.pginput===!0&&($(".ui-pg-input",m).val(c.p.page),l=c.p.toppager?"#sp_1"+n+",#sp_1"+o:"#sp_1"+n,$(l).html($.fmatter?$.fmatter.util.NumberFormat(c.p.lastpage,j):c.p.lastpage)),c.p.viewrecords&&(0===c.p.reccount?$(".ui-paging-info",m).html(c.p.emptyrecords):(g=f+1,i=c.p.records,$.fmatter&&(g=$.fmatter.util.NumberFormat(g,j),h=$.fmatter.util.NumberFormat(h,j),i=$.fmatter.util.NumberFormat(i,j)),$(".ui-paging-info",m).html($.jgrid.format(c.p.recordtext,g,h,i)))),c.p.pgbuttons===!0&&(0>=d&&(d=e=0),1===d||0===d?($("#first"+n+", #prev"+n).addClass("ui-state-disabled").removeClass("ui-state-hover"),c.p.toppager&&$("#first_t"+o+", #prev_t"+o).addClass("ui-state-disabled").removeClass("ui-state-hover")):($("#first"+n+", #prev"+n).removeClass("ui-state-disabled"),c.p.toppager&&$("#first_t"+o+", #prev_t"+o).removeClass("ui-state-disabled")),d===e||0===d?($("#next"+n+", #last"+n).addClass("ui-state-disabled").removeClass("ui-state-hover"),c.p.toppager&&$("#next_t"+o+", #last_t"+o).addClass("ui-state-disabled").removeClass("ui-state-hover")):($("#next"+n+", #last"+n).removeClass("ui-state-disabled"),c.p.toppager&&$("#next_t"+o+", #last_t"+o).removeClass("ui-state-disabled")))),a===!0&&c.p.rownumbers===!0&&$(">td.jqgrid-rownum",c.rows).each(function(a){$(this).html(f+1+a)}),b&&c.p.jqgdnd&&$(c).jqGrid("gridDnD","updateDnD"),$(c).triggerHandler("jqGridGridComplete"),$.isFunction(c.p.gridComplete)&&c.p.gridComplete.call(c),$(c).triggerHandler("jqGridAfterGridComplete")},A=function(){if(c.grid.hDiv.loading=!0,!c.p.hiddengrid)switch(c.p.loadui){case"disable":break;case"enable":$("#load_"+$.jgrid.jqID(c.p.id)).show();break;case"block":$("#lui_"+$.jgrid.jqID(c.p.id)).show(),$("#load_"+$.jgrid.jqID(c.p.id)).show()}},B=function(){switch(c.grid.hDiv.loading=!1,c.p.loadui){case"disable":break;case"enable":$("#load_"+$.jgrid.jqID(c.p.id)).hide();break;case"block":$("#lui_"+$.jgrid.jqID(c.p.id)).hide(),$("#load_"+$.jgrid.jqID(c.p.id)).hide()}},C=function(a){if(!c.grid.hDiv.loading){var b,d,e=c.p.scroll&&a===!1,f={},g=c.p.prmNames;c.p.page<=0&&(c.p.page=Math.min(1,c.p.lastpage)),null!==g.search&&(f[g.search]=c.p.search),null!==g.nd&&(f[g.nd]=(new Date).getTime()),null!==g.rows&&(f[g.rows]=c.p.rowNum),null!==g.page&&(f[g.page]=c.p.page),null!==g.sort&&(f[g.sort]=c.p.sortname),null!==g.order&&(f[g.order]=c.p.sortorder),null!==c.p.rowTotal&&null!==g.totalrows&&(f[g.totalrows]=c.p.rowTotal);var h=$.isFunction(c.p.loadComplete),i=h?c.p.loadComplete:null,j=0;if(a=a||1,a>1?null!==g.npage?(f[g.npage]=a,j=a-1,a=1):i=function(b){c.p.page++,c.grid.hDiv.loading=!1,h&&c.p.loadComplete.call(c,b),C(a-1)}:null!==g.npage&&delete c.p.postData[g.npage],c.p.grouping){$(c).jqGrid("groupingSetup");var k,l=c.p.groupingView,m="";for(k=0;k<l.groupField.length;k++){var n=l.groupField[k];$.each(c.p.colModel,function(a,b){b.name===n&&b.index&&(n=b.index)}),m+=n+" "+l.groupOrder[k]+", "}f[g.sort]=m+f[g.sort]}$.extend(c.p.postData,f);var o=c.p.scroll?c.rows.length-1:1,p=$(c).triggerHandler("jqGridBeforeRequest");if(p===!1||"stop"===p)return;if($.isFunction(c.p.datatype))return void c.p.datatype.call(c,c.p.postData,"load_"+c.p.id,o,a,j);if($.isFunction(c.p.beforeRequest)&&(p=c.p.beforeRequest.call(c),void 0===p&&(p=!0),p===!1))return;switch(b=c.p.datatype.toLowerCase()){case"json":case"jsonp":case"xml":case"script":$.ajax($.extend({url:c.p.url,type:c.p.mtype,dataType:b,data:$.isFunction(c.p.serializeGridData)?c.p.serializeGridData.call(c,c.p.postData):c.p.postData,success:function(d,f,g){return $.isFunction(c.p.beforeProcessing)&&c.p.beforeProcessing.call(c,d,f,g)===!1?void B():("xml"===b?w(d,c.grid.bDiv,o,a>1,j):x(d,c.grid.bDiv,o,a>1,j),$(c).triggerHandler("jqGridLoadComplete",[d]),i&&i.call(c,d),$(c).triggerHandler("jqGridAfterLoadComplete",[d]),e&&c.grid.populateVisible(),(c.p.loadonce||c.p.treeGrid)&&(c.p.datatype="local"),d=null,void(1===a&&B()))},error:function(b,d,e){$.isFunction(c.p.loadError)&&c.p.loadError.call(c,b,d,e),1===a&&B(),b=null},beforeSend:function(a,b){var d=!0;return $.isFunction(c.p.loadBeforeSend)&&(d=c.p.loadBeforeSend.call(c,a,b)),void 0===d&&(d=!0),d===!1?!1:void A()}},$.jgrid.ajaxOptions,c.p.ajaxGridOptions));break;case"xmlstring":A(),d="string"!=typeof c.p.datastr?c.p.datastr:$.parseXML(c.p.datastr),w(d,c.grid.bDiv),$(c).triggerHandler("jqGridLoadComplete",[d]),h&&c.p.loadComplete.call(c,d),$(c).triggerHandler("jqGridAfterLoadComplete",[d]),c.p.datatype="local",c.p.datastr=null,B();break;case"jsonstring":A(),d="string"==typeof c.p.datastr?$.jgrid.parse(c.p.datastr):c.p.datastr,x(d,c.grid.bDiv),$(c).triggerHandler("jqGridLoadComplete",[d]),h&&c.p.loadComplete.call(c,d),$(c).triggerHandler("jqGridAfterLoadComplete",[d]),c.p.datatype="local",c.p.datastr=null,B();break;case"local":case"clientside":A(),c.p.datatype="local";var q=y();x(q,c.grid.bDiv,o,a>1,j),$(c).triggerHandler("jqGridLoadComplete",[q]),i&&i.call(c,q),$(c).triggerHandler("jqGridAfterLoadComplete",[q]),e&&c.grid.populateVisible(),B()}}},D=function(a){$("#cb_"+$.jgrid.jqID(c.p.id),c.grid.hDiv)[c.p.useProp?"prop":"attr"]("checked",a);var b=c.p.frozenColumns?c.p.id+"_frozen":"";b&&$("#cb_"+$.jgrid.jqID(c.p.id),c.grid.fhDiv)[c.p.useProp?"prop":"attr"]("checked",a)},E=function(a,b){var d,e,g,h,i,j,l,m="<td class='ui-pg-button ui-state-disabled' style='width:4px;'><span class='ui-separator'></span></td>",n="",o="<table cellspacing='0' cellpadding='0' border='0' style='table-layout:auto;' class='ui-pg-table'><tbody><tr>",p="",q=function(a){var b;return $.isFunction(c.p.onPaging)&&(b=c.p.onPaging.call(c,a)),"stop"===b?!1:(c.p.selrow=null,c.p.multiselect&&(c.p.selarrrow=[],D(!1)),c.p.savedRow=[],!0)};if(a=a.substr(1),b+="_"+a,d="pg_"+a,e=a+"_left",g=a+"_center",h=a+"_right",$("#"+$.jgrid.jqID(a)).append("<div id='"+d+"' class='ui-pager-control' role='group'><table cellspacing='0' cellpadding='0' border='0' class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;' role='row'><tbody><tr><td id='"+e+"' align='left'></td><td id='"+g+"' align='center' style='white-space:pre;'></td><td id='"+h+"' align='right'></td></tr></tbody></table></div>").attr("dir","ltr"),c.p.rowList.length>0){for(p="<td dir='"+f+"'>",p+="<select class='ui-pg-selbox' role='listbox'>",l=0;l<c.p.rowList.length;l++)p+='<option role="option" value="'+c.p.rowList[l]+'"'+(c.p.rowNum===c.p.rowList[l]?' selected="selected"':"")+">"+c.p.rowList[l]+"</option>";p+="</select></td>"}if("rtl"===f&&(o+=p),c.p.pginput===!0&&(n="<td dir='"+f+"'>"+$.jgrid.format(c.p.pgtext||"","<input class='ui-pg-input' type='text' size='2' maxlength='7' value='0' role='textbox'/>","<span id='sp_1_"+$.jgrid.jqID(a)+"'></span>")+"</td>"),c.p.pgbuttons===!0){var r=["first"+b,"prev"+b,"next"+b,"last"+b];"rtl"===f&&r.reverse(),o+="<td id='"+r[0]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-first'></span></td>",o+="<td id='"+r[1]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-prev'></span></td>",o+=""!==n?m+n+m:"",o+="<td id='"+r[2]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-next'></span></td>",o+="<td id='"+r[3]+"' class='ui-pg-button ui-corner-all'><span class='ui-icon ui-icon-seek-end'></span></td>"}else""!==n&&(o+=n);"ltr"===f&&(o+=p),o+="</tr></tbody></table>",c.p.viewrecords===!0&&$("td#"+a+"_"+c.p.recordpos,"#"+d).append("<div dir='"+f+"' style='text-align:"+c.p.recordpos+"' class='ui-paging-info'></div>"),$("td#"+a+"_"+c.p.pagerpos,"#"+d).append(o),j=$(".ui-jqgrid").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='ui-jqgrid ui-widget ui-widget-content' style='font-size:"+j+";visibility:hidden;' ></div>"),i=$(o).clone().appendTo("#testpg").width(),$("#testpg").remove(),i>0&&(""!==n&&(i+=50),$("td#"+a+"_"+c.p.pagerpos,"#"+d).width(i)),c.p._nvtd=[],c.p._nvtd[0]=i?Math.floor((c.p.width-i)/2):Math.floor(c.p.width/3),c.p._nvtd[1]=0,o=null,$(".ui-pg-selbox","#"+d).bind("change",function(){return q("records")?(c.p.page=Math.round(c.p.rowNum*(c.p.page-1)/this.value-.5)+1,c.p.rowNum=this.value,c.p.pager&&$(".ui-pg-selbox",c.p.pager).val(this.value),c.p.toppager&&$(".ui-pg-selbox",c.p.toppager).val(this.value),C(),!1):!1}),c.p.pgbuttons===!0&&($(".ui-pg-button","#"+d).hover(function(){$(this).hasClass("ui-state-disabled")?this.style.cursor="default":($(this).addClass("ui-state-hover"),this.style.cursor="pointer")},function(){$(this).hasClass("ui-state-disabled")||($(this).removeClass("ui-state-hover"),this.style.cursor="default")}),$("#first"+$.jgrid.jqID(b)+", #prev"+$.jgrid.jqID(b)+", #next"+$.jgrid.jqID(b)+", #last"+$.jgrid.jqID(b)).click(function(){if($(this).hasClass("ui-state-disabled"))return!1;var a=k(c.p.page,1),d=k(c.p.lastpage,1),e=!1,f=!0,g=!0,h=!0,i=!0;return 0===d||1===d?(f=!1,g=!1,h=!1,i=!1):d>1&&a>=1?1===a?(f=!1,g=!1):a===d&&(h=!1,i=!1):d>1&&0===a&&(h=!1,i=!1,a=d-1),q(this.id)?(this.id==="first"+b&&f&&(c.p.page=1,e=!0),this.id==="prev"+b&&g&&(c.p.page=a-1,e=!0),this.id==="next"+b&&h&&(c.p.page=a+1,e=!0),this.id==="last"+b&&i&&(c.p.page=d,e=!0),e&&C(),!1):!1})),c.p.pginput===!0&&$("input.ui-pg-input","#"+d).keypress(function(a){var b=a.charCode||a.keyCode||0;return 13===b?q("user")?($(this).val(k($(this).val(),1)),c.p.page=$(this).val()>0?$(this).val():c.p.page,C(),!1):!1:this})},F=function(a,b){var d,e,f="",g=c.p.colModel,h=!1,i=c.p.frozenColumns?b:c.grid.headers[a].el,j="";$("span.ui-grid-ico-sort",i).addClass("ui-state-disabled"),$(i).attr("aria-selected","false"),g[a].lso?"asc"===g[a].lso?(g[a].lso+="-desc",j="desc"):"desc"===g[a].lso?(g[a].lso+="-asc",j="asc"):("asc-desc"===g[a].lso||"desc-asc"===g[a].lso)&&(g[a].lso=""):g[a].lso=j=g[a].firstsortorder||"asc",j?($("span.s-ico",i).show(),$("span.ui-icon-"+j,i).removeClass("ui-state-disabled"),$(i).attr("aria-selected","true")):c.p.viewsortcols[0]||$("span.s-ico",i).hide(),c.p.sortorder="",$.each(g,function(a){this.lso&&(a>0&&h&&(f+=", "),d=this.lso.split("-"),f+=g[a].index||g[a].name,f+=" "+d[d.length-1],h=!0,c.p.sortorder=d[d.length-1])}),e=f.lastIndexOf(c.p.sortorder),f=f.substring(0,e),c.p.sortname=f},G=function(a,b,d,e,f){if(c.p.colModel[b].sortable&&!(c.p.savedRow.length>0)){if(d||(c.p.lastsort===b?"asc"===c.p.sortorder?c.p.sortorder="desc":"desc"===c.p.sortorder&&(c.p.sortorder="asc"):c.p.sortorder=c.p.colModel[b].firstsortorder||"asc",c.p.page=1),c.p.multiSort)F(b,f);else{if(e){if(c.p.lastsort===b&&c.p.sortorder===e&&!d)return;c.p.sortorder=e}var g=c.grid.headers[c.p.lastsort].el,h=c.p.frozenColumns?f:c.grid.headers[b].el;$("span.ui-grid-ico-sort",g).addClass("ui-state-disabled"),$(g).attr("aria-selected","false"),c.p.frozenColumns&&(c.grid.fhDiv.find("span.ui-grid-ico-sort").addClass("ui-state-disabled"),c.grid.fhDiv.find("th").attr("aria-selected","false")),$("span.ui-icon-"+c.p.sortorder,h).removeClass("ui-state-disabled"),$(h).attr("aria-selected","true"),c.p.viewsortcols[0]||c.p.lastsort!==b&&(c.p.frozenColumns&&c.grid.fhDiv.find("span.s-ico").hide(),$("span.s-ico",g).hide(),$("span.s-ico",h).show()),a=a.substring(5+c.p.id.length+1),c.p.sortname=c.p.colModel[b].index||a}if("stop"===$(c).triggerHandler("jqGridSortCol",[c.p.sortname,b,c.p.sortorder]))return void(c.p.lastsort=b);if($.isFunction(c.p.onSortCol)&&"stop"===c.p.onSortCol.call(c,c.p.sortname,b,c.p.sortorder))return void(c.p.lastsort=b);if("local"===c.p.datatype?c.p.deselectAfterSort&&$(c).jqGrid("resetSelection"):(c.p.selrow=null,c.p.multiselect&&D(!1),c.p.selarrrow=[],c.p.savedRow=[]),c.p.scroll){var i=c.grid.bDiv.scrollLeft;t.call(c,!0,!1),c.grid.hDiv.scrollLeft=i}c.p.subGrid&&"local"===c.p.datatype&&$("td.sgexpanded","#"+$.jgrid.jqID(c.p.id)).each(function(){$(this).trigger("click")}),C(),c.p.lastsort=b,c.p.sortname!==a&&b&&(c.p.lastsort=b)}},H=function(){var a,b,e,f,g=0,h=$.jgrid.cell_width?0:k(c.p.cellLayout,0),i=0,j=k(c.p.scrollOffset,0),l=!1,m=0;$.each(c.p.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),c.p.grouping&&c.p.autowidth){var a=$.inArray(this.name,c.p.groupingView.groupField);a>=0&&c.p.groupingView.groupColumnShow.length>a&&(this.hidden=!c.p.groupingView.groupColumnShow[a])}this.widthOrg=b=k(this.width,0),this.hidden===!1&&(g+=b+h,this.fixed?m+=b+h:i++)}),isNaN(c.p.width)&&(c.p.width=g+(c.p.shrinkToFit!==!1||isNaN(c.p.height)?0:j)),d.width=c.p.width,c.p.tblwidth=g,c.p.shrinkToFit===!1&&c.p.forceFit===!0&&(c.p.forceFit=!1),c.p.shrinkToFit===!0&&i>0&&(e=d.width-h*i-m,isNaN(c.p.height)||(e-=j,l=!0),g=0,$.each(c.p.colModel,function(d){this.hidden!==!1||this.fixed||(b=Math.round(e*this.width/(c.p.tblwidth-h*i-m)),this.width=b,g+=b,a=d)}),f=0,l?d.width-m-(g+h*i)!==j&&(f=d.width-m-(g+h*i)-j):l||1===Math.abs(d.width-m-(g+h*i))||(f=d.width-m-(g+h*i)),c.p.colModel[a].width+=f,c.p.tblwidth=g+f+h*i+m,c.p.tblwidth>c.p.width&&(c.p.colModel[a].width-=c.p.tblwidth-parseInt(c.p.width,10),c.p.tblwidth=c.p.width))},I=function(a){var b,d=a,e=a;for(b=a+1;b<c.p.colModel.length;b++)if(c.p.colModel[b].hidden!==!0){e=b;break}return e-d},J=function(a){var b=$(c.grid.headers[a].el),d=[b.position().left+b.outerWidth()];return"rtl"===c.p.direction&&(d[0]=c.p.width-d[0]),d[0]-=c.grid.bDiv.scrollLeft,d.push($(c.grid.hDiv).position().top),d.push($(c.grid.bDiv).offset().top-$(c.grid.hDiv).offset().top+$(c.grid.bDiv).height()),d},K=function(a){var b,d=c.grid.headers,e=$.jgrid.getCellIndex(a);for(b=0;b<d.length;b++)if(a===d[b].el){e=b;break}return e};for(this.p.id=this.id,-1===$.inArray(c.p.multikey,j)&&(c.p.multikey=!1),c.p.keyIndex=!1,c.p.keyName=!1,e=0;e<c.p.colModel.length;e++)c.p.colModel[e]=$.extend(!0,{},c.p.cmTemplate,c.p.colModel[e].template||{},c.p.colModel[e]),c.p.keyIndex===!1&&c.p.colModel[e].key===!0&&(c.p.keyIndex=e);if(c.p.sortorder=c.p.sortorder.toLowerCase(),$.jgrid.cell_width=$.jgrid.cellWidth(),c.p.grouping===!0&&(c.p.scroll=!1,c.p.rownumbers=!1,c.p.treeGrid=!1,c.p.gridview=!0),this.p.treeGrid===!0){try{$(this).jqGrid("setTreeGrid")}catch(L){}"local"!==c.p.datatype&&(c.p.localReader={id:"_id_"})}if(this.p.subGrid)try{$(c).jqGrid("setSubGrid")}catch(M){}this.p.multiselect&&(this.p.colNames.unshift("<input role='checkbox' id='cb_"+this.p.id+"' class='cbox' type='checkbox'/>"),this.p.colModel.unshift({name:"cb",width:$.jgrid.cell_width?c.p.multiselectWidth+c.p.cellLayout:c.p.multiselectWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),this.p.rownumbers&&(this.p.colNames.unshift(""),this.p.colModel.unshift({name:"rn",width:c.p.rownumWidth,sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0})),c.p.xmlReader=$.extend(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},c.p.xmlReader),c.p.jsonReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},c.p.jsonReader),c.p.localReader=$.extend(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},c.p.localReader),c.p.scroll&&(c.p.pgbuttons=!1,c.p.pginput=!1,c.p.rowList=[]),c.p.data.length&&u();var N,O,P,Q,R,S,T,U,V,W="<thead><tr class='ui-jqgrid-labels' role='rowheader'>",X="",Y="",Z=[],_=[],aa=[];if(c.p.shrinkToFit===!0&&c.p.forceFit===!0)for(e=c.p.colModel.length-1;e>=0;e--)if(!c.p.colModel[e].hidden){c.p.colModel[e].resizable=!1;break}if("horizontal"===c.p.viewsortcols[1]&&(X=" ui-i-asc",Y=" ui-i-desc"),N=h?"class='ui-th-div-ie'":"",V="<span class='s-ico' style='display:none'><span sort='asc' class='ui-grid-ico-sort ui-icon-asc"+X+" ui-state-disabled ui-icon ui-icon-triangle-1-n ui-sort-"+f+"'></span>",V+="<span sort='desc' class='ui-grid-ico-sort ui-icon-desc"+Y+" ui-state-disabled ui-icon ui-icon-triangle-1-s ui-sort-"+f+"'></span></span>",c.p.multiSort)for(Z=c.p.sortname.split(","),e=0;e<Z.length;e++)aa=$.trim(Z[e]).split(" "),Z[e]=$.trim(aa[0]),_[e]=aa[1]?$.trim(aa[1]):c.p.sortorder||"asc";for(e=0;e<this.p.colNames.length;e++){var ba=c.p.headertitles?' title="'+$.jgrid.stripHtml(c.p.colNames[e])+'"':"";W+="<th id='"+c.p.id+"_"+c.p.colModel[e].name+"' role='columnheader' class='ui-state-default ui-th-column ui-th-"+f+"'"+ba+">",O=c.p.colModel[e].index||c.p.colModel[e].name,W+="<div id='jqgh_"+c.p.id+"_"+c.p.colModel[e].name+"' "+N+">"+c.p.colNames[e],c.p.colModel[e].width?c.p.colModel[e].width=parseInt(c.p.colModel[e].width,10):c.p.colModel[e].width=150,"boolean"!=typeof c.p.colModel[e].title&&(c.p.colModel[e].title=!0),c.p.colModel[e].lso="",O===c.p.sortname&&(c.p.lastsort=e),c.p.multiSort&&(aa=$.inArray(O,Z),-1!==aa&&(c.p.colModel[e].lso=_[aa])),W+=V+"</div></th>"}if(W+="</tr></thead>",V=null,$(this).append(W),$("thead tr:first th",this).hover(function(){$(this).addClass("ui-state-hover")},function(){$(this).removeClass("ui-state-hover")}),this.p.multiselect){var ca,da=[];$("#cb_"+$.jgrid.jqID(c.p.id),this).bind("click",function(){c.p.selarrrow=[];var a=c.p.frozenColumns===!0?c.p.id+"_frozen":"";this.checked?($(c.rows).each(function(b){b>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("jqgroup")||$(this).hasClass("ui-state-disabled")||($("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(this.id))[c.p.useProp?"prop":"attr"]("checked",!0),$(this).addClass("ui-state-highlight").attr("aria-selected","true"),c.p.selarrrow.push(this.id),c.p.selrow=this.id,a&&($("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(this.id),c.grid.fbDiv)[c.p.useProp?"prop":"attr"]("checked",!0),$("#"+$.jgrid.jqID(this.id),c.grid.fbDiv).addClass("ui-state-highlight"))))}),ca=!0,da=[]):($(c.rows).each(function(b){b>0&&($(this).hasClass("ui-subgrid")||$(this).hasClass("ui-state-disabled")||($("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(this.id))[c.p.useProp?"prop":"attr"]("checked",!1),$(this).removeClass("ui-state-highlight").attr("aria-selected","false"),da.push(this.id),a&&($("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(this.id),c.grid.fbDiv)[c.p.useProp?"prop":"attr"]("checked",!1),$("#"+$.jgrid.jqID(this.id),c.grid.fbDiv).removeClass("ui-state-highlight"))))}),c.p.selrow=null,ca=!1),$(c).triggerHandler("jqGridSelectAll",[ca?c.p.selarrrow:da,ca]),$.isFunction(c.p.onSelectAll)&&c.p.onSelectAll.call(c,ca?c.p.selarrrow:da,ca)})}if(c.p.autowidth===!0){var ea=$(i).innerWidth();c.p.width=ea>0?ea:"nw"}H(),$(i).css("width",d.width+"px").append("<div class='ui-jqgrid-resize-mark' id='rs_m"+c.p.id+"'>&#160;</div>"),$(g).css("width",d.width+"px"),W=$("thead:first",c).get(0);var fa="";c.p.footerrow&&(fa+="<table role='grid' style='width:"+c.p.tblwidth+"px' class='ui-jqgrid-ftable' cellspacing='0' cellpadding='0' border='0'><tbody><tr role='row' class='ui-widget-content footrow footrow-"+f+"'>");var ga=$("tr:first",W),ha="<tr class='jqgfirstrow' role='row' style='height:auto'>";if(c.p.disableClick=!1,$("th",ga).each(function(a){P=c.p.colModel[a].width,void 0===c.p.colModel[a].resizable&&(c.p.colModel[a].resizable=!0),c.p.colModel[a].resizable?(Q=document.createElement("span"),$(Q).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+f).css("cursor","col-resize"),$(this).addClass(c.p.resizeclass)):Q="",$(this).css("width",P+"px").prepend(Q),Q=null;var b="";c.p.colModel[a].hidden&&($(this).css("display","none"),b="display:none;"),ha+="<td role='gridcell' style='height:0px;width:"+P+"px;"+b+"'></td>",d.headers[a]={width:P,el:this},R=c.p.colModel[a].sortable,"boolean"!=typeof R&&(c.p.colModel[a].sortable=!0,R=!0);var e=c.p.colModel[a].name;"cb"!==e&&"subgrid"!==e&&"rn"!==e&&c.p.viewsortcols[2]&&$(">div",this).addClass("ui-jqgrid-sortable"),R&&(c.p.multiSort?c.p.viewsortcols[0]?($("div span.s-ico",this).show(),c.p.colModel[a].lso&&$("div span.ui-icon-"+c.p.colModel[a].lso,this).removeClass("ui-state-disabled")):c.p.colModel[a].lso&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+c.p.colModel[a].lso,this).removeClass("ui-state-disabled")):c.p.viewsortcols[0]?($("div span.s-ico",this).show(),a===c.p.lastsort&&$("div span.ui-icon-"+c.p.sortorder,this).removeClass("ui-state-disabled")):a===c.p.lastsort&&($("div span.s-ico",this).show(),$("div span.ui-icon-"+c.p.sortorder,this).removeClass("ui-state-disabled"))),c.p.footerrow&&(fa+="<td role='gridcell' "+l(a,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(a){if(1===$(a.target).closest("th>span.ui-jqgrid-resize").length){var b=K(this);return c.p.forceFit===!0&&(c.p.nv=I(b)),d.dragStart(b,a,J(b)),!1}}).click(function(a){if(c.p.disableClick)return c.p.disableClick=!1,!1;var b,d,e="th>div.ui-jqgrid-sortable";c.p.viewsortcols[2]||(e="th>div>span>span.ui-grid-ico-sort");var f=$(a.target).closest(e);if(1===f.length){var g;if(c.p.frozenColumns){var h=$(this)[0].id.substring(c.p.id.length+1);$(c.p.colModel).each(function(a){return this.name===h?(g=a,!1):void 0})}else g=K(this);return c.p.viewsortcols[2]||(b=!0,d=f.attr("sort")),null!=g&&G($("div",this)[0].id,g,b,d,this),!1}}),c.p.sortable&&$.fn.sortable)try{$(c).jqGrid("sortableColumns",ga)}catch(ia){}c.p.footerrow&&(fa+="</tr></tbody></table>"),ha+="</tr>",U=document.createElement("tbody"),this.appendChild(U),$(this).addClass("ui-jqgrid-btable").append(ha),ha=null;var ja=$("<table class='ui-jqgrid-htable' style='width:"+c.p.tblwidth+"px' role='grid' aria-labelledby='gbox_"+this.id+"' cellspacing='0' cellpadding='0' border='0'></table>").append(W),ka=c.p.caption&&c.p.hiddengrid===!0?!0:!1,la=$("<div class='ui-jqgrid-hbox"+("rtl"===f?"-rtl":"")+"'></div>");W=null,d.hDiv=document.createElement("div"),$(d.hDiv).css({width:d.width+"px"}).addClass("ui-state-default ui-jqgrid-hdiv").append(la),$(la).append(ja),ja=null,ka&&$(d.hDiv).hide(),c.p.pager&&("string"==typeof c.p.pager?"#"!==c.p.pager.substr(0,1)&&(c.p.pager="#"+c.p.pager):c.p.pager="#"+$(c.p.pager).attr("id"),$(c.p.pager).css({width:d.width+"px"}).addClass("ui-state-default ui-jqgrid-pager ui-corner-bottom").appendTo(i),ka&&$(c.p.pager).hide(),E(c.p.pager,"")),c.p.cellEdit===!1&&c.p.hoverrows===!0&&$(c).bind("mouseover",function(a){T=$(a.target).closest("tr.jqgrow"),"ui-subgrid"!==$(T).attr("class")&&$(T).addClass("ui-state-hover")}).bind("mouseout",function(a){T=$(a.target).closest("tr.jqgrow"),$(T).removeClass("ui-state-hover")});var ma,na,oa;$(c).before(d.hDiv).click(function(a){if(S=a.target,T=$(S,c.rows).closest("tr.jqgrow"),0===$(T).length||T[0].className.indexOf("ui-state-disabled")>-1||($(S,c).closest("table.ui-jqgrid-btable").attr("id")||"").replace("_frozen","")!==c.id)return this;var b=$(S).hasClass("cbox"),d=$(c).triggerHandler("jqGridBeforeSelectRow",[T[0].id,a]);if(d=d===!1||"stop"===d?!1:!0,d&&$.isFunction(c.p.beforeSelectRow)&&(d=c.p.beforeSelectRow.call(c,T[0].id,a)),"A"!==S.tagName&&("INPUT"!==S.tagName&&"TEXTAREA"!==S.tagName&&"OPTION"!==S.tagName&&"SELECT"!==S.tagName||b)&&d===!0)if(ma=T[0].id,na=$.jgrid.getCellIndex(S),oa=$(S).closest("td,th").html(),$(c).triggerHandler("jqGridCellSelect",[ma,na,oa,a]),$.isFunction(c.p.onCellSelect)&&c.p.onCellSelect.call(c,ma,na,oa,a),c.p.cellEdit===!0)if(c.p.multiselect&&b)$(c).jqGrid("setSelection",ma,!0,a);else{ma=T[0].rowIndex;try{$(c).jqGrid("editCell",ma,na,!0)}catch(e){}}else if(c.p.multikey)a[c.p.multikey]?$(c).jqGrid("setSelection",ma,!0,a):c.p.multiselect&&b&&(b=$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+ma).is(":checked"),$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+ma)[c.p.useProp?"prop":"attr"]("checked",b));else if(c.p.multiselect&&c.p.multiboxonly)if(b)$(c).jqGrid("setSelection",ma,!0,a);else{var f=c.p.frozenColumns?c.p.id+"_frozen":"";$(c.p.selarrrow).each(function(a,b){var d=$(c).jqGrid("getGridRowById",b);$(d).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(b))[c.p.useProp?"prop":"attr"]("checked",!1),f&&($("#"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(f)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(c.p.id)+"_"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(f))[c.p.useProp?"prop":"attr"]("checked",!1))}),c.p.selarrrow=[],$(c).jqGrid("setSelection",ma,!0,a)}else $(c).jqGrid("setSelection",ma,!0,a)}).bind("reloadGrid",function(a,b){if(c.p.treeGrid===!0&&(c.p.datatype=c.p.treedatatype),b&&b.current&&c.grid.selectionPreserver(c),"local"===c.p.datatype?($(c).jqGrid("resetSelection"),c.p.data.length&&u()):c.p.treeGrid||(c.p.selrow=null,c.p.multiselect&&(c.p.selarrrow=[],D(!1)),c.p.savedRow=[]),c.p.scroll&&t.call(c,!0,!1),b&&b.page){var d=b.page;d>c.p.lastpage&&(d=c.p.lastpage),1>d&&(d=1),c.p.page=d,c.grid.prevRowHeight?c.grid.bDiv.scrollTop=(d-1)*c.grid.prevRowHeight*c.p.rowNum:c.grid.bDiv.scrollTop=0}return c.grid.prevRowHeight&&c.p.scroll?(delete c.p.lastpage,c.grid.populateVisible()):c.grid.populate(),c.p._inlinenav===!0&&$(c).jqGrid("showAddEditButtons"),!1}).dblclick(function(a){S=a.target,T=$(S,c.rows).closest("tr.jqgrow"),0!==$(T).length&&(ma=T[0].rowIndex,na=$.jgrid.getCellIndex(S),$(c).triggerHandler("jqGridDblClickRow",[$(T).attr("id"),ma,na,a]),$.isFunction(c.p.ondblClickRow)&&c.p.ondblClickRow.call(c,$(T).attr("id"),ma,na,a))}).bind("contextmenu",function(a){S=a.target,T=$(S,c.rows).closest("tr.jqgrow"),0!==$(T).length&&(c.p.multiselect||$(c).jqGrid("setSelection",T[0].id,!0,a),ma=T[0].rowIndex,na=$.jgrid.getCellIndex(S),$(c).triggerHandler("jqGridRightClickRow",[$(T).attr("id"),ma,na,a]),$.isFunction(c.p.onRightClickRow)&&c.p.onRightClickRow.call(c,$(T).attr("id"),ma,na,a))}),d.bDiv=document.createElement("div"),h&&"auto"===String(c.p.height).toLowerCase()&&(c.p.height="100%"),$(d.bDiv).append($('<div style="position:relative;'+(h&&$.jgrid.msiever()<8?"height:0.01%;":"")+'"></div>').append("<div></div>").append(this)).addClass("ui-jqgrid-bdiv").css({height:c.p.height+(isNaN(c.p.height)?"":"px"),width:d.width+"px"}).scroll(d.scrollGrid),$("table:first",d.bDiv).css({width:c.p.tblwidth+"px"}),$.support.tbody||2===$("tbody",this).length&&$("tbody:gt(0)",this).remove(),c.p.multikey&&($.jgrid.msie?$(d.bDiv).bind("selectstart",function(){return!1}):$(d.bDiv).bind("mousedown",function(){return!1})),ka&&$(d.bDiv).hide(),d.cDiv=document.createElement("div");var pa=c.p.hidegrid===!0?$("<a role='link' class='ui-jqgrid-titlebar-close ui-corner-all HeaderButton' />").hover(function(){pa.addClass("ui-state-hover")},function(){pa.removeClass("ui-state-hover")}).append("<span class='ui-icon ui-icon-circle-triangle-n'></span>").css("rtl"===f?"left":"right","0px"):"";if($(d.cDiv).append(pa).append("<span class='ui-jqgrid-title'>"+c.p.caption+"</span>").addClass("ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===f?"-rtl":"")+" ui-widget-header ui-corner-top ui-helper-clearfix"),$(d.cDiv).insertBefore(d.hDiv),c.p.toolbar[0]&&(d.uDiv=document.createElement("div"),"top"===c.p.toolbar[1]?$(d.uDiv).insertBefore(d.hDiv):"bottom"===c.p.toolbar[1]&&$(d.uDiv).insertAfter(d.hDiv),"both"===c.p.toolbar[1]?(d.ubDiv=document.createElement("div"),$(d.uDiv).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id).insertBefore(d.hDiv),$(d.ubDiv).addClass("ui-userdata ui-state-default").attr("id","tb_"+this.id).insertAfter(d.hDiv),ka&&$(d.ubDiv).hide()):$(d.uDiv).width(d.width).addClass("ui-userdata ui-state-default").attr("id","t_"+this.id),ka&&$(d.uDiv).hide()),c.p.toppager&&(c.p.toppager=$.jgrid.jqID(c.p.id)+"_toppager",d.topDiv=$("<div id='"+c.p.toppager+"'></div>")[0],c.p.toppager="#"+c.p.toppager,$(d.topDiv).addClass("ui-state-default ui-jqgrid-toppager").width(d.width).insertBefore(d.hDiv),E(c.p.toppager,"_t")),c.p.footerrow&&(d.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],la=$("<div class='ui-jqgrid-hbox"+("rtl"===f?"-rtl":"")+"'></div>"),$(d.sDiv).append(la).width(d.width).insertAfter(d.hDiv),$(la).append(fa),d.footers=$(".ui-jqgrid-ftable",d.sDiv)[0].rows[0].cells,c.p.rownumbers&&(d.footers[0].className="ui-state-default jqgrid-rownum"),ka&&$(d.sDiv).hide()),la=null,c.p.caption){var qa=c.p.datatype;c.p.hidegrid===!0&&($(".ui-jqgrid-titlebar-close",d.cDiv).click(function(a){
var b,e=$.isFunction(c.p.onHeaderClick),f=".ui-jqgrid-bdiv, .ui-jqgrid-hdiv, .ui-jqgrid-pager, .ui-jqgrid-sdiv",g=this;return c.p.toolbar[0]===!0&&("both"===c.p.toolbar[1]&&(f+=", #"+$(d.ubDiv).attr("id")),f+=", #"+$(d.uDiv).attr("id")),b=$(f,"#gview_"+$.jgrid.jqID(c.p.id)).length,"visible"===c.p.gridstate?$(f,"#gbox_"+$.jgrid.jqID(c.p.id)).slideUp("fast",function(){b--,0===b&&($("span",g).removeClass("ui-icon-circle-triangle-n").addClass("ui-icon-circle-triangle-s"),c.p.gridstate="hidden",$("#gbox_"+$.jgrid.jqID(c.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(c.p.id)).hide(),$(c).triggerHandler("jqGridHeaderClick",[c.p.gridstate,a]),e&&(ka||c.p.onHeaderClick.call(c,c.p.gridstate,a)))}):"hidden"===c.p.gridstate&&$(f,"#gbox_"+$.jgrid.jqID(c.p.id)).slideDown("fast",function(){b--,0===b&&($("span",g).removeClass("ui-icon-circle-triangle-s").addClass("ui-icon-circle-triangle-n"),ka&&(c.p.datatype=qa,C(),ka=!1),c.p.gridstate="visible",$("#gbox_"+$.jgrid.jqID(c.p.id)).hasClass("ui-resizable")&&$(".ui-resizable-handle","#gbox_"+$.jgrid.jqID(c.p.id)).show(),$(c).triggerHandler("jqGridHeaderClick",[c.p.gridstate,a]),e&&(ka||c.p.onHeaderClick.call(c,c.p.gridstate,a)))}),!1}),ka&&(c.p.datatype="local",$(".ui-jqgrid-titlebar-close",d.cDiv).trigger("click")))}else $(d.cDiv).hide();$(d.hDiv).after(d.bDiv).mousemove(function(a){return d.resizing?(d.dragMove(a),!1):void 0}),$(".ui-jqgrid-labels",d.hDiv).bind("selectstart",function(){return!1}),$(document).bind("mouseup.jqGrid"+c.p.id,function(){return d.resizing?(d.dragEnd(),!1):!0}),c.formatCol=l,c.sortData=G,c.updatepager=z,c.refreshIndex=u,c.setHeadCheckBox=D,c.constructTr=v,c.formatter=function(a,b,c,d,e){return n(a,b,c,d,e)},$.extend(d,{populate:C,emptyRows:t,beginReq:A,endReq:B}),this.grid=d,c.addXmlData=function(a){w(a,c.grid.bDiv)},c.addJSONData=function(a){x(a,c.grid.bDiv)},this.grid.cols=this.rows[0].cells,$(c).triggerHandler("jqGridInitGrid"),$.isFunction(c.p.onInitGrid)&&c.p.onInitGrid.call(c),C(),c.p.hiddengrid=!1}})},$.jgrid.extend({getGridParam:function(a){var b=this[0];if(b&&b.grid)return a?void 0!==b.p[a]?b.p[a]:null:b.p},setGridParam:function(a){return this.each(function(){this.grid&&"object"==typeof a&&$.extend(!0,this.p,a)})},getGridRowById:function(a){var b;return this.each(function(){try{for(var c=this.rows.length;c--;)if(a.toString()===this.rows[c].id){b=this.rows[c];break}}catch(d){b=$(this.grid.bDiv).find("#"+$.jgrid.jqID(a))}}),b},getDataIDs:function(){var a,b=[],c=0,d=0;return this.each(function(){if(a=this.rows.length,a&&a>0)for(;a>c;)$(this.rows[c]).hasClass("jqgrow")&&(b[d]=this.rows[c].id,d++),c++}),b},setSelection:function(a,b,c){return this.each(function(){function d(a){var b=$(k.grid.bDiv)[0].clientHeight,c=$(k.grid.bDiv)[0].scrollTop,d=$(k.rows[a]).position().top,e=k.rows[a].clientHeight;d+e>=b+c?$(k.grid.bDiv)[0].scrollTop=d-(b+c)+e+c:b+c>d&&c>d&&($(k.grid.bDiv)[0].scrollTop=d)}var e,f,g,h,i,j,k=this;void 0!==a&&(b=b===!1?!1:!0,f=$(k).jqGrid("getGridRowById",a),!f||!f.className||f.className.indexOf("ui-state-disabled")>-1||(k.p.scrollrows===!0&&(g=$(k).jqGrid("getGridRowById",a).rowIndex,g>=0&&d(g)),k.p.frozenColumns===!0&&(j=k.p.id+"_frozen"),k.p.multiselect?(k.setHeadCheckBox(!1),k.p.selrow=f.id,h=$.inArray(k.p.selrow,k.p.selarrrow),-1===h?("ui-subgrid"!==f.className&&$(f).addClass("ui-state-highlight").attr("aria-selected","true"),e=!0,k.p.selarrrow.push(k.p.selrow)):("ui-subgrid"!==f.className&&$(f).removeClass("ui-state-highlight").attr("aria-selected","false"),e=!1,k.p.selarrrow.splice(h,1),i=k.p.selarrrow[0],k.p.selrow=void 0===i?null:i),$("#jqg_"+$.jgrid.jqID(k.p.id)+"_"+$.jgrid.jqID(f.id))[k.p.useProp?"prop":"attr"]("checked",e),j&&(-1===h?$("#"+$.jgrid.jqID(a),"#"+$.jgrid.jqID(j)).addClass("ui-state-highlight"):$("#"+$.jgrid.jqID(a),"#"+$.jgrid.jqID(j)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(k.p.id)+"_"+$.jgrid.jqID(a),"#"+$.jgrid.jqID(j))[k.p.useProp?"prop":"attr"]("checked",e)),b&&($(k).triggerHandler("jqGridSelectRow",[f.id,e,c]),k.p.onSelectRow&&k.p.onSelectRow.call(k,f.id,e,c))):"ui-subgrid"!==f.className&&(k.p.selrow!==f.id?($($(k).jqGrid("getGridRowById",k.p.selrow)).removeClass("ui-state-highlight").attr({"aria-selected":"false",tabindex:"-1"}),$(f).addClass("ui-state-highlight").attr({"aria-selected":"true",tabindex:"0"}),j&&($("#"+$.jgrid.jqID(k.p.selrow),"#"+$.jgrid.jqID(j)).removeClass("ui-state-highlight"),$("#"+$.jgrid.jqID(a),"#"+$.jgrid.jqID(j)).addClass("ui-state-highlight")),e=!0):e=!1,k.p.selrow=f.id,b&&($(k).triggerHandler("jqGridSelectRow",[f.id,e,c]),k.p.onSelectRow&&k.p.onSelectRow.call(k,f.id,e,c)))))})},resetSelection:function(a){return this.each(function(){var b,c,d=this;d.p.frozenColumns===!0&&(c=d.p.id+"_frozen"),void 0!==a?(b=a===d.p.selrow?d.p.selrow:a,$("#"+$.jgrid.jqID(d.p.id)+" tbody:first tr#"+$.jgrid.jqID(b)).removeClass("ui-state-highlight").attr("aria-selected","false"),c&&$("#"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(c)).removeClass("ui-state-highlight"),d.p.multiselect&&($("#jqg_"+$.jgrid.jqID(d.p.id)+"_"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(d.p.id))[d.p.useProp?"prop":"attr"]("checked",!1),c&&$("#jqg_"+$.jgrid.jqID(d.p.id)+"_"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(c))[d.p.useProp?"prop":"attr"]("checked",!1),d.setHeadCheckBox(!1)),b=null):d.p.multiselect?($(d.p.selarrrow).each(function(a,b){$($(d).jqGrid("getGridRowById",b)).removeClass("ui-state-highlight").attr("aria-selected","false"),$("#jqg_"+$.jgrid.jqID(d.p.id)+"_"+$.jgrid.jqID(b))[d.p.useProp?"prop":"attr"]("checked",!1),c&&($("#"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(c)).removeClass("ui-state-highlight"),$("#jqg_"+$.jgrid.jqID(d.p.id)+"_"+$.jgrid.jqID(b),"#"+$.jgrid.jqID(c))[d.p.useProp?"prop":"attr"]("checked",!1))}),d.setHeadCheckBox(!1),d.p.selarrrow=[],d.p.selrow=null):d.p.selrow&&($("#"+$.jgrid.jqID(d.p.id)+" tbody:first tr#"+$.jgrid.jqID(d.p.selrow)).removeClass("ui-state-highlight").attr("aria-selected","false"),c&&$("#"+$.jgrid.jqID(d.p.selrow),"#"+$.jgrid.jqID(c)).removeClass("ui-state-highlight"),d.p.selrow=null),d.p.cellEdit===!0&&parseInt(d.p.iCol,10)>=0&&parseInt(d.p.iRow,10)>=0&&($("td:eq("+d.p.iCol+")",d.rows[d.p.iRow]).removeClass("edit-cell ui-state-highlight"),$(d.rows[d.p.iRow]).removeClass("selected-row ui-state-hover")),d.p.savedRow=[]})},getRowData:function(a){var b,c,d={},e=!1,f=0;return this.each(function(){var g,h,i=this;if(void 0===a)e=!0,b=[],c=i.rows.length;else{if(h=$(i).jqGrid("getGridRowById",a),!h)return d;c=2}for(;c>f;)e&&(h=i.rows[f]),$(h).hasClass("jqgrow")&&($('td[role="gridcell"]',h).each(function(a){if(g=i.p.colModel[a].name,"cb"!==g&&"subgrid"!==g&&"rn"!==g)if(i.p.treeGrid===!0&&g===i.p.ExpandColumn)d[g]=$.jgrid.htmlDecode($("span:first",this).html());else try{d[g]=$.unformat.call(i,this,{rowId:h.id,colModel:i.p.colModel[a]},a)}catch(b){d[g]=$.jgrid.htmlDecode($(this).html())}}),e&&(b.push(d),d={})),f++}),b||d},delRowData:function(a){var b,c,d=!1;return this.each(function(){var e=this;if(b=$(e).jqGrid("getGridRowById",a),!b)return!1;if($(b).remove(),e.p.records--,e.p.reccount--,e.updatepager(!0,!1),d=!0,e.p.multiselect&&(c=$.inArray(a,e.p.selarrrow),-1!==c&&e.p.selarrrow.splice(c,1)),e.p.multiselect&&e.p.selarrrow.length>0?e.p.selrow=e.p.selarrrow[e.p.selarrrow.length-1]:e.p.selrow=null,"local"===e.p.datatype){var f=$.jgrid.stripPref(e.p.idPrefix,a),g=e.p._index[f];void 0!==g&&(e.p.data.splice(g,1),e.refreshIndex())}if(e.p.altRows===!0&&d){var h=e.p.altclass;$(e.rows).each(function(a){a%2===1?$(this).addClass(h):$(this).removeClass(h)})}}),d},setRowData:function(a,b,c){var d,e,f=!0;return this.each(function(){if(!this.grid)return!1;var g,h,i=this,j=typeof c,k={};if(h=$(this).jqGrid("getGridRowById",a),!h)return!1;if(b)try{if($(this.p.colModel).each(function(c){d=this.name;var f=$.jgrid.getAccessor(b,d);void 0!==f&&(k[d]=this.formatter&&"string"==typeof this.formatter&&"date"===this.formatter?$.unformat.date.call(i,f,this):f,g=i.formatter(a,f,c,b,"edit"),e=this.title?{title:$.jgrid.stripHtml(g)}:{},i.p.treeGrid===!0&&d===i.p.ExpandColumn?$("td[role='gridcell']:eq("+c+") > span:first",h).html(g).attr(e):$("td[role='gridcell']:eq("+c+")",h).html(g).attr(e))}),"local"===i.p.datatype){var l,m=$.jgrid.stripPref(i.p.idPrefix,a),n=i.p._index[m];if(i.p.treeGrid)for(l in i.p.treeReader)i.p.treeReader.hasOwnProperty(l)&&delete k[i.p.treeReader[l]];void 0!==n&&(i.p.data[n]=$.extend(!0,i.p.data[n],k)),k=null}}catch(o){f=!1}f&&("string"===j?$(h).addClass(c):null!==c&&"object"===j&&$(h).css(c),$(i).triggerHandler("jqGridAfterGridComplete"))}),f},addRowData:function(a,b,c,d){c||(c="last");var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=!1,t="";return b&&($.isArray(b)?(m=!0,c="last",n=a):(b=[b],m=!1),this.each(function(){var u=this,v=b.length;i=u.p.rownumbers===!0?1:0,g=u.p.multiselect===!0?1:0,h=u.p.subGrid===!0?1:0,m||(void 0!==a?a=String(a):(a=$.jgrid.randId(),u.p.keyIndex!==!1&&(n=u.p.colModel[u.p.keyIndex+g+h+i].name,void 0!==b[0][n]&&(a=b[0][n])))),o=u.p.altclass;for(var w=0,x="",y={},z=$.isFunction(u.p.afterInsertRow)?!0:!1;v>w;){if(p=b[w],f=[],m){try{a=p[n],void 0===a&&(a=$.jgrid.randId())}catch(A){a=$.jgrid.randId()}x=u.p.altRows===!0&&(u.rows.length-1)%2===0?o:""}for(r=a,a=u.p.idPrefix+a,i&&(t=u.formatCol(0,1,"",null,a,!0),f[f.length]='<td role="gridcell" class="ui-state-default jqgrid-rownum" '+t+">0</td>"),g&&(l='<input role="checkbox" type="checkbox" id="jqg_'+u.p.id+"_"+a+'" class="cbox"/>',t=u.formatCol(i,1,"",null,a,!0),f[f.length]='<td role="gridcell" '+t+">"+l+"</td>"),h&&(f[f.length]=$(u).jqGrid("addSubGridCell",g+i,1)),k=g+h+i;k<u.p.colModel.length;k++)q=u.p.colModel[k],e=q.name,y[e]=p[e],l=u.formatter(a,$.jgrid.getAccessor(p,e),k,p),t=u.formatCol(k,1,l,p,a,y),f[f.length]='<td role="gridcell" '+t+">"+l+"</td>";if(f.unshift(u.constructTr(a,!1,x,y,p,!1)),f[f.length]="</tr>",0===u.rows.length)$("table:first",u.grid.bDiv).append(f.join(""));else switch(c){case"last":$(u.rows[u.rows.length-1]).after(f.join("")),j=u.rows.length-1;break;case"first":$(u.rows[0]).after(f.join("")),j=1;break;case"after":j=$(u).jqGrid("getGridRowById",d),j&&($(u.rows[j.rowIndex+1]).hasClass("ui-subgrid")?$(u.rows[j.rowIndex+1]).after(f):$(j).after(f.join("")),j=j.rowIndex+1);break;case"before":j=$(u).jqGrid("getGridRowById",d),j&&($(j).before(f.join("")),j=j.rowIndex-1)}u.p.subGrid===!0&&$(u).jqGrid("addSubGrid",g+i,j),u.p.records++,u.p.reccount++,$(u).triggerHandler("jqGridAfterInsertRow",[a,p,p]),z&&u.p.afterInsertRow.call(u,a,p,p),w++,"local"===u.p.datatype&&(y[u.p.localReader.id]=r,u.p._index[r]=u.p.data.length,u.p.data.push(y),y={})}u.p.altRows!==!0||m||("last"===c?(u.rows.length-1)%2===1&&$(u.rows[u.rows.length-1]).addClass(o):$(u.rows).each(function(a){a%2===1?$(this).addClass(o):$(this).removeClass(o)})),u.updatepager(!0,!0),s=!0})),s},footerData:function(a,b,c){function d(a){var b;for(b in a)if(a.hasOwnProperty(b))return!1;return!0}var e,f,g=!1,h={};return void 0==a&&(a="get"),"boolean"!=typeof c&&(c=!0),a=a.toLowerCase(),this.each(function(){var i,j=this;return j.grid&&j.p.footerrow?"set"===a&&d(b)?!1:(g=!0,void $(this.p.colModel).each(function(d){e=this.name,"set"===a?void 0!==b[e]&&(i=c?j.formatter("",b[e],d,b,"edit"):b[e],f=this.title?{title:$.jgrid.stripHtml(i)}:{},$("tr.footrow td:eq("+d+")",j.grid.sDiv).html(i).attr(f),g=!0):"get"===a&&(h[e]=$("tr.footrow td:eq("+d+")",j.grid.sDiv).html())})):!1}),"get"===a?h:g},showHideCol:function(a,b){return this.each(function(){var c,d=this,e=!1,f=$.jgrid.cell_width?0:d.p.cellLayout;if(d.grid){"string"==typeof a&&(a=[a]),b="none"!==b?"":"none";var g=""===b?!0:!1,h=d.p.groupHeader&&("object"==typeof d.p.groupHeader||$.isFunction(d.p.groupHeader));h&&$(d).jqGrid("destroyGroupHeader",!1),$(this.p.colModel).each(function(h){if(-1!==$.inArray(this.name,a)&&this.hidden===g){if(d.p.frozenColumns===!0&&this.frozen===!0)return!0;$("tr[role=rowheader]",d.grid.hDiv).each(function(){$(this.cells[h]).css("display",b)}),$(d.rows).each(function(){$(this).hasClass("jqgroup")||$(this.cells[h]).css("display",b)}),d.p.footerrow&&$("tr.footrow td:eq("+h+")",d.grid.sDiv).css("display",b),c=parseInt(this.width,10),"none"===b?d.p.tblwidth-=c+f:d.p.tblwidth+=c+f,this.hidden=!g,e=!0,$(d).triggerHandler("jqGridShowHideCol",[g,this.name,h])}}),e===!0&&(d.p.shrinkToFit!==!0||isNaN(d.p.height)||(d.p.tblwidth+=parseInt(d.p.scrollOffset,10)),$(d).jqGrid("setGridWidth",d.p.shrinkToFit===!0?d.p.tblwidth:d.p.width)),h&&$(d).jqGrid("setGroupHeaders",d.p.groupHeader)}})},hideCol:function(a){return this.each(function(){$(this).jqGrid("showHideCol",a,"none")})},showCol:function(a){return this.each(function(){$(this).jqGrid("showHideCol",a,"")})},remapColumns:function(a,b,c){function d(b){var c;c=b.length?$.makeArray(b):$.extend({},b),$.each(a,function(a){b[a]=c[this]})}function e(b,c){$(">tr"+(c||""),b).each(function(){var b=this,c=$.makeArray(b.cells);$.each(a,function(){var a=c[this];a&&b.appendChild(a)})})}var f=this.get(0);d(f.p.colModel),d(f.p.colNames),d(f.grid.headers),e($("thead:first",f.grid.hDiv),c&&":not(.ui-jqgrid-labels)"),b&&e($("#"+$.jgrid.jqID(f.p.id)+" tbody:first"),".jqgfirstrow, tr.jqgrow, tr.jqfoot"),f.p.footerrow&&e($("tbody:first",f.grid.sDiv)),f.p.remapColumns&&(f.p.remapColumns.length?d(f.p.remapColumns):f.p.remapColumns=$.makeArray(a)),f.p.lastsort=$.inArray(f.p.lastsort,a),f.p.treeGrid&&(f.p.expColInd=$.inArray(f.p.expColInd,a)),$(f).triggerHandler("jqGridRemapColumns",[a,b,c])},setGridWidth:function(a,b){return this.each(function(){if(this.grid){var c,d,e,f,g=this,h=0,i=$.jgrid.cell_width?0:g.p.cellLayout,j=0,k=!1,l=g.p.scrollOffset,m=0;if("boolean"!=typeof b&&(b=g.p.shrinkToFit),!isNaN(a)){if(a=parseInt(a,10),g.grid.width=g.p.width=a,$("#gbox_"+$.jgrid.jqID(g.p.id)).css("width",a+"px"),$("#gview_"+$.jgrid.jqID(g.p.id)).css("width",a+"px"),$(g.grid.bDiv).css("width",a+"px"),$(g.grid.hDiv).css("width",a+"px"),g.p.pager&&$(g.p.pager).css("width",a+"px"),g.p.toppager&&$(g.p.toppager).css("width",a+"px"),g.p.toolbar[0]===!0&&($(g.grid.uDiv).css("width",a+"px"),"both"===g.p.toolbar[1]&&$(g.grid.ubDiv).css("width",a+"px")),g.p.footerrow&&$(g.grid.sDiv).css("width",a+"px"),b===!1&&g.p.forceFit===!0&&(g.p.forceFit=!1),b===!0){if($.each(g.p.colModel,function(){this.hidden===!1&&(c=this.widthOrg,h+=c+i,this.fixed?m+=c+i:j++)}),0===j)return;g.p.tblwidth=h,e=a-i*j-m,isNaN(g.p.height)||($(g.grid.bDiv)[0].clientHeight<$(g.grid.bDiv)[0].scrollHeight||1===g.rows.length)&&(k=!0,e-=l),h=0;var n=g.grid.cols.length>0;if($.each(g.p.colModel,function(a){if(this.hidden===!1&&!this.fixed){if(c=this.widthOrg,c=Math.round(e*c/(g.p.tblwidth-i*j-m)),0>c)return;this.width=c,h+=c,g.grid.headers[a].width=c,g.grid.headers[a].el.style.width=c+"px",g.p.footerrow&&(g.grid.footers[a].style.width=c+"px"),n&&(g.grid.cols[a].style.width=c+"px"),d=a}}),!d)return;if(f=0,k?a-m-(h+i*j)!==l&&(f=a-m-(h+i*j)-l):1!==Math.abs(a-m-(h+i*j))&&(f=a-m-(h+i*j)),g.p.colModel[d].width+=f,g.p.tblwidth=h+f+i*j+m,g.p.tblwidth>a){var o=g.p.tblwidth-parseInt(a,10);g.p.tblwidth=a,c=g.p.colModel[d].width=g.p.colModel[d].width-o}else c=g.p.colModel[d].width;g.grid.headers[d].width=c,g.grid.headers[d].el.style.width=c+"px",n&&(g.grid.cols[d].style.width=c+"px"),g.p.footerrow&&(g.grid.footers[d].style.width=c+"px")}g.p.tblwidth&&($("table:first",g.grid.bDiv).css("width",g.p.tblwidth+"px"),$("table:first",g.grid.hDiv).css("width",g.p.tblwidth+"px"),g.grid.hDiv.scrollLeft=g.grid.bDiv.scrollLeft,g.p.footerrow&&$("table:first",g.grid.sDiv).css("width",g.p.tblwidth+"px"))}}})},setGridHeight:function(a){return this.each(function(){var b=this;if(b.grid){var c=$(b.grid.bDiv);c.css({height:a+(isNaN(a)?"":"px")}),b.p.frozenColumns===!0&&$("#"+$.jgrid.jqID(b.p.id)+"_frozen").parent().height(c.height()-16),b.p.height=a,b.p.scroll&&b.grid.populateVisible()}})},setCaption:function(a){return this.each(function(){this.p.caption=a,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",this.grid.cDiv).html(a),$(this.grid.cDiv).show()})},setLabel:function(a,b,c,d){return this.each(function(){var e=this,f=-1;if(e.grid&&void 0!==a&&($(e.p.colModel).each(function(b){return this.name===a?(f=b,!1):void 0}),f>=0)){var g=$("tr.ui-jqgrid-labels th:eq("+f+")",e.grid.hDiv);if(b){var h=$(".s-ico",g);$("[id^=jqgh_]",g).empty().html(b).append(h),e.p.colNames[f]=b}c&&("string"==typeof c?$(g).addClass(c):$(g).css(c)),"object"==typeof d&&$(g).attr(d)}})},setCell:function(a,b,c,d,e,f){return this.each(function(){var g,h,i=this,j=-1;if(i.grid&&(isNaN(b)?$(i.p.colModel).each(function(a){return this.name===b?(j=a,!1):void 0}):j=parseInt(b,10),j>=0)){var k=$(i).jqGrid("getGridRowById",a);if(k){var l=$("td:eq("+j+")",k);if((""!==c||f===!0)&&(g=i.formatter(a,c,j,k,"edit"),h=i.p.colModel[j].title?{title:$.jgrid.stripHtml(g)}:{},i.p.treeGrid&&$(".tree-wrap",$(l)).length>0?$("span",$(l)).html(g).attr(h):$(l).html(g).attr(h),"local"===i.p.datatype)){var m,n=i.p.colModel[j];c=n.formatter&&"string"==typeof n.formatter&&"date"===n.formatter?$.unformat.date.call(i,c,n):c,m=i.p._index[$.jgrid.stripPref(i.p.idPrefix,a)],void 0!==m&&(i.p.data[m][n.name]=c)}"string"==typeof d?$(l).addClass(d):d&&$(l).css(d),"object"==typeof e&&$(l).attr(e)}}})},getCell:function(a,b){var c=!1;return this.each(function(){var d=this,e=-1;if(d.grid&&(isNaN(b)?$(d.p.colModel).each(function(a){return this.name===b?(e=a,!1):void 0}):e=parseInt(b,10),e>=0)){var f=$(d).jqGrid("getGridRowById",a);if(f)try{c=$.unformat.call(d,$("td:eq("+e+")",f),{rowId:f.id,colModel:d.p.colModel[e]},e)}catch(g){c=$.jgrid.htmlDecode($("td:eq("+e+")",f).html())}}}),c},getCol:function(a,b,c){var d,e,f,g,h=[],i=0;return b="boolean"!=typeof b?!1:b,void 0===c&&(c=!1),this.each(function(){var j=this,k=-1;if(j.grid&&(isNaN(a)?$(j.p.colModel).each(function(b){return this.name===a?(k=b,!1):void 0}):k=parseInt(a,10),k>=0)){var l=j.rows.length,m=0,n=0;if(l&&l>0){for(;l>m;){if($(j.rows[m]).hasClass("jqgrow")){try{d=$.unformat.call(j,$(j.rows[m].cells[k]),{rowId:j.rows[m].id,colModel:j.p.colModel[k]},k)}catch(o){d=$.jgrid.htmlDecode(j.rows[m].cells[k].innerHTML)}c?(g=parseFloat(d),isNaN(g)||(i+=g,void 0===f&&(f=e=g),e=Math.min(e,g),f=Math.max(f,g),n++)):b?h.push({id:j.rows[m].id,value:d}):h.push(d)}m++}if(c)switch(c.toLowerCase()){case"sum":h=i;break;case"avg":h=i/n;break;case"count":h=l-1;break;case"min":h=e;break;case"max":h=f}}}}),h},clearGridData:function(a){return this.each(function(){var b=this;if(b.grid){if("boolean"!=typeof a&&(a=!1),b.p.deepempty)$("#"+$.jgrid.jqID(b.p.id)+" tbody:first tr:gt(0)").remove();else{var c=$("#"+$.jgrid.jqID(b.p.id)+" tbody:first tr:first")[0];$("#"+$.jgrid.jqID(b.p.id)+" tbody:first").empty().append(c)}b.p.footerrow&&a&&$(".ui-jqgrid-ftable td",b.grid.sDiv).html("&#160;"),b.p.selrow=null,b.p.selarrrow=[],b.p.savedRow=[],b.p.records=0,b.p.page=1,b.p.lastpage=0,b.p.reccount=0,b.p.data=[],b.p._index={},b.updatepager(!0,!1)}})},getInd:function(a,b){var c,d=!1;return this.each(function(){c=$(this).jqGrid("getGridRowById",a),c&&(d=b===!0?c:c.rowIndex)}),d},bindKeys:function(a){var b=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},a||{});return this.each(function(){var a=this;$("body").is("[role]")||$("body").attr("role","application"),a.p.scrollrows=b.scrollingRows,$(a).keydown(function(c){var d,e,f,g=$(a).find("tr[tabindex=0]")[0],h=a.p.treeReader.expanded_field;if(g)if(f=a.p._index[$.jgrid.stripPref(a.p.idPrefix,g.id)],37===c.keyCode||38===c.keyCode||39===c.keyCode||40===c.keyCode){if(38===c.keyCode){if(e=g.previousSibling,d="",e)if($(e).is(":hidden")){for(;e;)if(e=e.previousSibling,!$(e).is(":hidden")&&$(e).hasClass("jqgrow")){d=e.id;break}}else d=e.id;$(a).jqGrid("setSelection",d,!0,c),c.preventDefault()}if(40===c.keyCode){if(e=g.nextSibling,d="",e)if($(e).is(":hidden")){for(;e;)if(e=e.nextSibling,!$(e).is(":hidden")&&$(e).hasClass("jqgrow")){d=e.id;break}}else d=e.id;$(a).jqGrid("setSelection",d,!0,c),c.preventDefault()}37===c.keyCode&&(a.p.treeGrid&&a.p.data[f][h]&&$(g).find("div.treeclick").trigger("click"),$(a).triggerHandler("jqGridKeyLeft",[a.p.selrow]),$.isFunction(b.onLeftKey)&&b.onLeftKey.call(a,a.p.selrow)),39===c.keyCode&&(a.p.treeGrid&&!a.p.data[f][h]&&$(g).find("div.treeclick").trigger("click"),$(a).triggerHandler("jqGridKeyRight",[a.p.selrow]),$.isFunction(b.onRightKey)&&b.onRightKey.call(a,a.p.selrow))}else 13===c.keyCode?($(a).triggerHandler("jqGridKeyEnter",[a.p.selrow]),$.isFunction(b.onEnter)&&b.onEnter.call(a,a.p.selrow)):32===c.keyCode&&($(a).triggerHandler("jqGridKeySpace",[a.p.selrow]),$.isFunction(b.onSpace)&&b.onSpace.call(a,a.p.selrow))})})},unbindKeys:function(){return this.each(function(){$(this).unbind("keydown")})},getLocalRow:function(a){var b,c=!1;return this.each(function(){void 0!==a&&(b=this.p._index[$.jgrid.stripPref(this.p.idPrefix,a)],b>=0&&(c=this.p.data[b]))}),c}})}(jQuery);