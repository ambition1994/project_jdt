ace.define("ace/mode/latex_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("./text_highlight_rules").TextHighlightRules,f=function(){this.$rules={start:[{token:"keyword",regex:"\\\\(?:[^a-zA-Z]|[a-zA-Z]+)"},{token:"lparen",regex:"[[({]"},{token:"rparen",regex:"[\\])}]"},{token:"string",regex:"\\$(?:(?:\\\\.)|(?:[^\\$\\\\]))*?\\$"},{token:"comment",regex:"%.*$"}]}};d.inherits(f,e),b.LatexHighlightRules=f}),ace.define("ace/mode/folding/latex",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range","ace/token_iterator"],function(a,b,c){"use strict";var d=a("../../lib/oop"),e=a("./fold_mode").FoldMode,f=a("../../range").Range,g=a("../../token_iterator").TokenIterator,h=b.FoldMode=function(){};d.inherits(h,e),function(){this.foldingStartMarker=/^\s*\\(begin)|(section|subsection)\b|{\s*$/,this.foldingStopMarker=/^\s*\\(end)\b|^\s*}/,this.getFoldWidgetRange=function(a,b,c){var d=a.doc.getLine(c),e=this.foldingStartMarker.exec(d);if(e)return e[1]?this.latexBlock(a,c,e[0].length-1):e[2]?this.latexSection(a,c,e[0].length-1):this.openingBracketBlock(a,"{",c,e.index);var e=this.foldingStopMarker.exec(d);return e?e[1]?this.latexBlock(a,c,e[0].length-1):this.closingBracketBlock(a,"}",c,e.index+e[0].length):void 0},this.latexBlock=function(a,b,c){var d={"\\begin":1,"\\end":-1},e=new g(a,b,c),h=e.getCurrentToken();if(h&&"keyword"===h.type){var i=h.value,j=d[i],k=function(){var a=e.stepForward(),b="lparen"==a.type?e.stepForward().value:"";return-1===j&&(e.stepBackward(),b&&e.stepBackward()),b},l=[k()],m=-1===j?e.getCurrentTokenColumn():a.getLine(b).length,n=b;for(e.step=-1===j?e.stepBackward:e.stepForward;h=e.step();)if("keyword"===h.type){var o=d[h.value];if(o){var p=k();if(o===j)l.unshift(p);else if(l.shift()!==p||!l.length)break}}if(!l.length){var b=e.getCurrentTokenRow();return-1===j?new f(b,a.getLine(b).length,n,m):(e.stepBackward(),new f(n,m,b,e.getCurrentTokenColumn()))}}},this.latexSection=function(a,b,c){var d=["\\subsection","\\section","\\begin","\\end"],e=new g(a,b,c),h=e.getCurrentToken();if(h&&"keyword"==h.type){for(var i=d.indexOf(h.value),j=0,k=b;h=e.stepForward();)if("keyword"===h.type){var l=d.indexOf(h.value);if(l>=2){if(j||(k=e.getCurrentTokenRow()-1),j+=2==l?1:-1,0>j)break}else if(l>=i)break}for(j||(k=e.getCurrentTokenRow()-1);k>b&&!/\S/.test(a.getLine(k));)k--;return new f(b,a.getLine(b).length,k,a.getLine(k).length)}}}.call(h.prototype)}),ace.define("ace/mode/latex",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/latex_highlight_rules","ace/mode/folding/latex","ace/range"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("./text").Mode,f=a("./latex_highlight_rules").LatexHighlightRules,g=a("./folding/latex").FoldMode,h=(a("../range").Range,function(){this.HighlightRules=f,this.foldingRules=new g});d.inherits(h,e),function(){this.lineCommentStart="%",this.$id="ace/mode/latex"}.call(h.prototype),b.Mode=h});