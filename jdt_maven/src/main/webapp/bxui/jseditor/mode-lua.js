ace.define("ace/mode/lua_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("./text_highlight_rules").TextHighlightRules,f=function(){var a="break|do|else|elseif|end|for|function|if|in|local|repeat|return|then|until|while|or|and|not",b="true|false|nil|_G|_VERSION",c="string|xpcall|package|tostring|print|os|unpack|require|getfenv|setmetatable|next|assert|tonumber|io|rawequal|collectgarbage|getmetatable|module|rawset|math|debug|pcall|table|newproxy|type|coroutine|_G|select|gcinfo|pairs|rawget|loadstring|ipairs|_VERSION|dofile|setfenv|load|error|loadfile|sub|upper|len|gfind|rep|find|match|char|dump|gmatch|reverse|byte|format|gsub|lower|preload|loadlib|loaded|loaders|cpath|config|path|seeall|exit|setlocale|date|getenv|difftime|remove|time|clock|tmpname|rename|execute|lines|write|close|flush|open|output|type|read|stderr|stdin|input|stdout|popen|tmpfile|log|max|acos|huge|ldexp|pi|cos|tanh|pow|deg|tan|cosh|sinh|random|randomseed|frexp|ceil|floor|rad|abs|sqrt|modf|asin|min|mod|fmod|log10|atan2|exp|sin|atan|getupvalue|debug|sethook|getmetatable|gethook|setmetatable|setlocal|traceback|setfenv|getinfo|setupvalue|getlocal|getregistry|getfenv|setn|insert|getn|foreachi|maxn|foreach|concat|sort|remove|resume|yield|status|wrap|create|running|__add|__sub|__mod|__unm|__concat|__lt|__index|__call|__gc|__metatable|__mul|__div|__pow|__len|__eq|__le|__newindex|__tostring|__mode|__tonumber",d="string|package|os|io|math|debug|table|coroutine",e="",f="setn|foreach|foreachi|gcinfo|log10|maxn",g=this.createKeywordMapper({keyword:a,"support.function":c,"invalid.deprecated":f,"constant.library":d,"constant.language":b,"invalid.illegal":e,"variable.language":"self"},"identifier"),h="(?:(?:[1-9]\\d*)|(?:0))",i="(?:0[xX][\\dA-Fa-f]+)",j="(?:"+h+"|"+i+")",k="(?:\\.\\d+)",l="(?:\\d+)",m="(?:(?:"+l+"?"+k+")|(?:"+l+"\\.))",n="(?:"+m+")";this.$rules={start:[{stateName:"bracketedComment",onMatch:function(a,b,c){return c.unshift(this.next,a.length-2,b),"comment"},regex:/\-\-\[=*\[/,next:[{onMatch:function(a,b,c){return a.length==c[1]?(c.shift(),c.shift(),this.next=c.shift()):this.next="","comment"},regex:/\]=*\]/,next:"start"},{defaultToken:"comment"}]},{token:"comment",regex:"\\-\\-.*$"},{stateName:"bracketedString",onMatch:function(a,b,c){return c.unshift(this.next,a.length,b),"comment"},regex:/\[=*\[/,next:[{onMatch:function(a,b,c){return a.length==c[1]?(c.shift(),c.shift(),this.next=c.shift()):this.next="","comment"},regex:/\]=*\]/,next:"start"},{defaultToken:"comment"}]},{token:"string",regex:'"(?:[^\\\\]|\\\\.)*?"'},{token:"string",regex:"'(?:[^\\\\]|\\\\.)*?'"},{token:"constant.numeric",regex:n},{token:"constant.numeric",regex:j+"\\b"},{token:g,regex:"[a-zA-Z_$][a-zA-Z0-9_$]*\\b"},{token:"keyword.operator",regex:"\\+|\\-|\\*|\\/|%|\\#|\\^|~|<|>|<=|=>|==|~=|=|\\:|\\.\\.\\.|\\.\\."},{token:"paren.lparen",regex:"[\\[\\(\\{]"},{token:"paren.rparen",regex:"[\\]\\)\\}]"},{token:"text",regex:"\\s+|\\w+"}]},this.normalizeRules()};d.inherits(f,e),b.LuaHighlightRules=f}),ace.define("ace/mode/folding/lua",["require","exports","module","ace/lib/oop","ace/mode/folding/fold_mode","ace/range","ace/token_iterator"],function(a,b,c){"use strict";var d=a("../../lib/oop"),e=a("./fold_mode").FoldMode,f=a("../../range").Range,g=a("../../token_iterator").TokenIterator,h=b.FoldMode=function(){};d.inherits(h,e),function(){this.foldingStartMarker=/\b(function|then|do|repeat)\b|{\s*$|(\[=*\[)/,this.foldingStopMarker=/\bend\b|^\s*}|\]=*\]/,this.getFoldWidget=function(a,b,c){var d=a.getLine(c),e=this.foldingStartMarker.test(d),f=this.foldingStopMarker.test(d);if(e&&!f){var g=d.match(this.foldingStartMarker);if("then"==g[1]&&/\belseif\b/.test(d))return;if(g[1]){if("keyword"===a.getTokenAt(c,g.index+1).type)return"start"}else{if(!g[2])return"start";var h=a.bgTokenizer.getState(c)||"";if("bracketedComment"==h[0]||"bracketedString"==h[0])return"start"}}if("markbeginend"!=b||!f||e&&f)return"";var g=d.match(this.foldingStopMarker);if("end"===g[0]){if("keyword"===a.getTokenAt(c,g.index+1).type)return"end"}else{if("]"!==g[0][0])return"end";var h=a.bgTokenizer.getState(c-1)||"";if("bracketedComment"==h[0]||"bracketedString"==h[0])return"end"}},this.getFoldWidgetRange=function(a,b,c){var d=a.doc.getLine(c),e=this.foldingStartMarker.exec(d);if(e)return e[1]?this.luaBlock(a,c,e.index+1):e[2]?a.getCommentFoldRange(c,e.index+1):this.openingBracketBlock(a,"{",c,e.index);var e=this.foldingStopMarker.exec(d);return e?"end"===e[0]&&"keyword"===a.getTokenAt(c,e.index+1).type?this.luaBlock(a,c,e.index+1):"]"===e[0][0]?a.getCommentFoldRange(c,e.index+1):this.closingBracketBlock(a,"}",c,e.index+e[0].length):void 0},this.luaBlock=function(a,b,c){var d=new g(a,b,c),e={"function":1,"do":1,then:1,elseif:-1,end:-1,repeat:1,until:-1},h=d.getCurrentToken();if(h&&"keyword"==h.type){var i=h.value,j=[i],k=e[i];if(k){var l=-1===k?d.getCurrentTokenColumn():a.getLine(b).length,m=b;for(d.step=-1===k?d.stepBackward:d.stepForward;h=d.step();)if("keyword"===h.type){var n=k*e[h.value];if(n>0)j.unshift(h.value);else if(0>=n){if(j.shift(),!j.length&&"elseif"!=h.value)break;0===n&&j.unshift(h.value)}}var b=d.getCurrentTokenRow();return-1===k?new f(b,a.getLine(b).length,m,l):new f(m,l,b,d.getCurrentTokenColumn())}}}}.call(h.prototype)}),ace.define("ace/mode/lua",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/lua_highlight_rules","ace/mode/folding/lua","ace/range","ace/worker/worker_client"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("./text").Mode,f=a("./lua_highlight_rules").LuaHighlightRules,g=a("./folding/lua").FoldMode,h=a("../range").Range,i=a("../worker/worker_client").WorkerClient,j=function(){this.HighlightRules=f,this.foldingRules=new g};d.inherits(j,e),function(){function a(a){for(var c=0,d=0;d<a.length;d++){var e=a[d];"keyword"==e.type?e.value in b&&(c+=b[e.value]):"paren.lparen"==e.type?c++:"paren.rparen"==e.type&&c--}return 0>c?-1:c>0?1:0}this.lineCommentStart="--",this.blockComment={start:"--[",end:"]--"};var b={"function":1,then:1,"do":1,"else":1,elseif:1,repeat:1,end:-1,until:-1},c=["else","elseif","end","until"];this.getNextLineIndent=function(b,c,d){var e=this.$getIndent(c),f=0,g=this.getTokenizer().getLineTokens(c,b),h=g.tokens;return"start"==b&&(f=a(h)),f>0?e+d:0>f&&e.substr(e.length-d.length)==d&&!this.checkOutdent(b,c,"\n")?e.substr(0,e.length-d.length):e},this.checkOutdent=function(a,b,d){if("\n"!=d&&"\r"!=d&&"\r\n"!=d)return!1;if(b.match(/^\s*[\)\}\]]$/))return!0;var e=this.getTokenizer().getLineTokens(b.trim(),a).tokens;return e&&e.length?"keyword"==e[0].type&&-1!=c.indexOf(e[0].value):!1},this.autoOutdent=function(b,c,d){var e=c.getLine(d-1),f=this.$getIndent(e).length,g=this.getTokenizer().getLineTokens(e,"start").tokens,i=c.getTabString().length,j=f+i*a(g),k=this.$getIndent(c.getLine(d)).length;j>k||c.outdentRows(new h(d,0,d+2,0))},this.createWorker=function(a){var b=new i(["ace"],"ace/mode/lua_worker","Worker");return b.attachToDocument(a.getDocument()),b.on("error",function(b){a.setAnnotations([b.data])}),b.on("ok",function(b){a.clearAnnotations()}),b},this.$id="ace/mode/lua"}.call(j.prototype),b.Mode=j});