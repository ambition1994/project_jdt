"no use strict";!function(a){if("undefined"==typeof a.window||!a.document){a.console=function(){var a=Array.prototype.slice.call(arguments,0);postMessage({type:"log",data:a})},a.console.error=a.console.warn=a.console.log=a.console.trace=a.console,a.window=a,a.ace=a,a.onerror=function(a,b,c,d,e){console.error("Worker "+(e?e.stack:a))},a.normalizeModule=function(b,c){if(-1!==c.indexOf("!")){var d=c.split("!");return a.normalizeModule(b,d[0])+"!"+a.normalizeModule(b,d[1])}if("."==c.charAt(0)){var e=b.split("/").slice(0,-1).join("/");for(c=(e?e+"/":"")+c;-1!==c.indexOf(".")&&f!=c;){var f=c;c=c.replace(/^\.\//,"").replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return c},a.require=function(b,c){if(c||(c=b,b=null),!c.charAt)throw new Error("worker.js require() accepts only (parentId, id) as arguments");c=a.normalizeModule(b,c);var d=a.require.modules[c];if(d)return d.initialized||(d.initialized=!0,d.exports=d.factory().exports),d.exports;var e=c.split("/");if(!a.require.tlns)return console.log("unable to load "+c);e[0]=a.require.tlns[e[0]]||e[0];var f=e.join("/")+".js";return a.require.id=c,importScripts(f),a.require(b,c)},a.require.modules={},a.require.tlns={},a.define=function(b,c,d){if(2==arguments.length?(d=c,"string"!=typeof b&&(c=b,b=a.require.id)):1==arguments.length&&(d=b,c=[],b=a.require.id),c.length||(c=["require","exports","module"]),0!==b.indexOf("text!")){var e=function(c){return a.require(b,c)};a.require.modules[b]={exports:{},factory:function(){var a=this,b=d.apply(this,c.map(function(b){switch(b){case"require":return e;case"exports":return a.exports;case"module":return a;default:return e(b)}}));return b&&(a.exports=b),a}}}},a.define.amd={},a.initBaseUrls=function(a){require.tlns=a},a.initSender=function(){var b=a.require("ace/lib/event_emitter").EventEmitter,c=a.require("ace/lib/oop"),d=function(){};return function(){c.implement(this,b),this.callback=function(a,b){postMessage({type:"call",id:b,data:a})},this.emit=function(a,b){postMessage({type:"event",name:a,data:b})}}.call(d.prototype),new d};var b=a.main=null,c=a.sender=null;a.onmessage=function(d){var e=d.data;if(e.command){if(!b[e.command])throw new Error("Unknown command:"+e.command);b[e.command].apply(b,e.args)}else if(e.init){initBaseUrls(e.tlns),require("ace/lib/es5-shim"),c=a.sender=initSender();var f=require(e.module)[e.classname];b=a.main=new f(c)}else e.event&&c&&c._signal(e.event,e.data)}}}(this),ace.define("ace/lib/oop",["require","exports","module"],function(a,b,c){"use strict";b.inherits=function(a,b){a.super_=b,a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}})},b.mixin=function(a,b){for(var c in b)a[c]=b[c];return a},b.implement=function(a,c){b.mixin(a,c)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(a,b,c){"use strict";var d={},e=function(){this.propagationStopped=!0},f=function(){this.defaultPrevented=!0};d._emit=d._dispatchEvent=function(a,b){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var c=this._eventRegistry[a]||[],d=this._defaultHandlers[a];if(c.length||d){"object"==typeof b&&b||(b={}),b.type||(b.type=a),b.stopPropagation||(b.stopPropagation=e),b.preventDefault||(b.preventDefault=f),c=c.slice();for(var g=0;g<c.length&&(c[g](b,this),!b.propagationStopped);g++);return d&&!b.defaultPrevented?d(b,this):void 0}},d._signal=function(a,b){var c=(this._eventRegistry||{})[a];if(c){c=c.slice();for(var d=0;d<c.length;d++)c[d](b,this)}},d.once=function(a,b){var c=this;b&&this.addEventListener(a,function d(){c.removeEventListener(a,d),b.apply(null,arguments)})},d.setDefaultHandler=function(a,b){var c=this._defaultHandlers;if(c||(c=this._defaultHandlers={_disabled_:{}}),c[a]){var d=c[a],e=c._disabled_[a];e||(c._disabled_[a]=e=[]),e.push(d);var f=e.indexOf(b);-1!=f&&e.splice(f,1)}c[a]=b},d.removeDefaultHandler=function(a,b){var c=this._defaultHandlers;if(c){var d=c._disabled_[a];if(c[a]==b){c[a];d&&this.setDefaultHandler(a,d.pop())}else if(d){var e=d.indexOf(b);-1!=e&&d.splice(e,1)}}},d.on=d.addEventListener=function(a,b,c){this._eventRegistry=this._eventRegistry||{};var d=this._eventRegistry[a];return d||(d=this._eventRegistry[a]=[]),-1==d.indexOf(b)&&d[c?"unshift":"push"](b),b},d.off=d.removeListener=d.removeEventListener=function(a,b){this._eventRegistry=this._eventRegistry||{};var c=this._eventRegistry[a];if(c){var d=c.indexOf(b);-1!==d&&c.splice(d,1)}},d.removeAllListeners=function(a){this._eventRegistry&&(this._eventRegistry[a]=[])},b.EventEmitter=d}),ace.define("ace/range",["require","exports","module"],function(a,b,c){"use strict";var d=function(a,b){return a.row-b.row||a.column-b.column},e=function(a,b,c,d){this.start={row:a,column:b},this.end={row:c,column:d}};(function(){this.isEqual=function(a){return this.start.row===a.start.row&&this.end.row===a.end.row&&this.start.column===a.start.column&&this.end.column===a.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(a,b){return 0==this.compare(a,b)},this.compareRange=function(a){var b,c=a.end,d=a.start;return b=this.compare(c.row,c.column),1==b?(b=this.compare(d.row,d.column),1==b?2:0==b?1:0):-1==b?-2:(b=this.compare(d.row,d.column),-1==b?-1:1==b?42:0)},this.comparePoint=function(a){return this.compare(a.row,a.column)},this.containsRange=function(a){return 0==this.comparePoint(a.start)&&0==this.comparePoint(a.end)},this.intersects=function(a){var b=this.compareRange(a);return-1==b||0==b||1==b},this.isEnd=function(a,b){return this.end.row==a&&this.end.column==b},this.isStart=function(a,b){return this.start.row==a&&this.start.column==b},this.setStart=function(a,b){"object"==typeof a?(this.start.column=a.column,this.start.row=a.row):(this.start.row=a,this.start.column=b)},this.setEnd=function(a,b){"object"==typeof a?(this.end.column=a.column,this.end.row=a.row):(this.end.row=a,this.end.column=b)},this.inside=function(a,b){return 0==this.compare(a,b)?this.isEnd(a,b)||this.isStart(a,b)?!1:!0:!1},this.insideStart=function(a,b){return 0==this.compare(a,b)?this.isEnd(a,b)?!1:!0:!1},this.insideEnd=function(a,b){return 0==this.compare(a,b)?this.isStart(a,b)?!1:!0:!1},this.compare=function(a,b){return this.isMultiLine()||a!==this.start.row?a<this.start.row?-1:a>this.end.row?1:this.start.row===a?b>=this.start.column?0:-1:this.end.row===a?b<=this.end.column?0:1:0:b<this.start.column?-1:b>this.end.column?1:0},this.compareStart=function(a,b){return this.start.row==a&&this.start.column==b?-1:this.compare(a,b)},this.compareEnd=function(a,b){return this.end.row==a&&this.end.column==b?1:this.compare(a,b)},this.compareInside=function(a,b){return this.end.row==a&&this.end.column==b?1:this.start.row==a&&this.start.column==b?-1:this.compare(a,b)},this.clipRows=function(a,b){if(this.end.row>b)var c={row:b+1,column:0};else if(this.end.row<a)var c={row:a,column:0};if(this.start.row>b)var d={row:b+1,column:0};else if(this.start.row<a)var d={row:a,column:0};return e.fromPoints(d||this.start,c||this.end)},this.extend=function(a,b){var c=this.compare(a,b);if(0==c)return this;if(-1==c)var d={row:a,column:b};else var f={row:a,column:b};return e.fromPoints(d||this.start,f||this.end)},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return e.fromPoints(this.start,this.end)},this.collapseRows=function(){return 0==this.end.column?new e(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new e(this.start.row,0,this.end.row,0)},this.toScreenRange=function(a){var b=a.documentToScreenPosition(this.start),c=a.documentToScreenPosition(this.end);return new e(b.row,b.column,c.row,c.column)},this.moveBy=function(a,b){this.start.row+=a,this.start.column+=b,this.end.row+=a,this.end.column+=b}}).call(e.prototype),e.fromPoints=function(a,b){return new e(a.row,a.column,b.row,b.column)},e.comparePoints=d,e.comparePoints=function(a,b){return a.row-b.row||a.column-b.column},b.Range=e}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/event_emitter").EventEmitter,f=b.Anchor=function(a,b,c){this.$onChange=this.onChange.bind(this),this.attach(a),"undefined"==typeof c?this.setPosition(b.row,b.column):this.setPosition(b,c)};(function(){d.implement(this,e),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(a){var b=a.data,c=b.range;if((c.start.row!=c.end.row||c.start.row==this.row)&&!(c.start.row>this.row||c.start.row==this.row&&c.start.column>this.column)){var d=this.row,e=this.column,f=c.start,g=c.end;"insertText"===b.action?f.row===d&&f.column<=e?f.column===e&&this.$insertRight||(f.row===g.row?e+=g.column-f.column:(e-=f.column,d+=g.row-f.row)):f.row!==g.row&&f.row<d&&(d+=g.row-f.row):"insertLines"===b.action?f.row===d&&0===e&&this.$insertRight||f.row<=d&&(d+=g.row-f.row):"removeText"===b.action?f.row===d&&f.column<e?e=g.column>=e?f.column:Math.max(0,e-(g.column-f.column)):f.row!==g.row&&f.row<d?(g.row===d&&(e=Math.max(0,e-g.column)+f.column),d-=g.row-f.row):g.row===d&&(d-=g.row-f.row,e=Math.max(0,e-g.column)+f.column):"removeLines"==b.action&&f.row<=d&&(g.row<=d?d-=g.row-f.row:(d=f.row,e=0)),this.setPosition(d,e,!0)}},this.setPosition=function(a,b,c){var d;if(d=c?{row:a,column:b}:this.$clipPositionToDocument(a,b),this.row!=d.row||this.column!=d.column){var e={row:this.row,column:this.column};this.row=d.row,this.column=d.column,this._signal("change",{old:e,value:d})}},this.detach=function(){this.document.removeEventListener("change",this.$onChange)},this.attach=function(a){this.document=a||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(a,b){var c={};return a>=this.document.getLength()?(c.row=Math.max(0,this.document.getLength()-1),c.column=this.document.getLine(c.row).length):0>a?(c.row=0,c.column=0):(c.row=a,c.column=Math.min(this.document.getLine(c.row).length,Math.max(0,b))),0>b&&(c.column=0),c}}).call(f.prototype)}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/range","ace/anchor"],function(a,b,c){"use strict";var d=a("./lib/oop"),e=a("./lib/event_emitter").EventEmitter,f=a("./range").Range,g=a("./anchor").Anchor,h=function(a){this.$lines=[],0===a.length?this.$lines=[""]:Array.isArray(a)?this._insertLines(0,a):this.insert({row:0,column:0},a)};(function(){d.implement(this,e),this.setValue=function(a){var b=this.getLength();this.remove(new f(0,0,b,this.getLine(b-1).length)),this.insert({row:0,column:0},a)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(a,b){return new g(this,a,b)},0==="aaa".split(/a/).length?this.$split=function(a){return a.replace(/\r\n|\r/g,"\n").split("\n")}:this.$split=function(a){return a.split(/\r\n|\r|\n/)},this.$detectNewLine=function(a){var b=a.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=b?b[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(a){this.$newLineMode!==a&&(this.$newLineMode=a,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(a){return"\r\n"==a||"\r"==a||"\n"==a},this.getLine=function(a){return this.$lines[a]||""},this.getLines=function(a,b){return this.$lines.slice(a,b+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(a){if(a.start.row==a.end.row)return this.getLine(a.start.row).substring(a.start.column,a.end.column);var b=this.getLines(a.start.row,a.end.row);b[0]=(b[0]||"").substring(a.start.column);var c=b.length-1;return a.end.row-a.start.row==c&&(b[c]=b[c].substring(0,a.end.column)),b.join(this.getNewLineCharacter())},this.$clipPosition=function(a){var b=this.getLength();return a.row>=b?(a.row=Math.max(0,b-1),a.column=this.getLine(b-1).length):a.row<0&&(a.row=0),a},this.insert=function(a,b){if(!b||0===b.length)return a;a=this.$clipPosition(a),this.getLength()<=1&&this.$detectNewLine(b);var c=this.$split(b),d=c.splice(0,1)[0],e=0==c.length?null:c.splice(c.length-1,1)[0];return a=this.insertInLine(a,d),null!==e&&(a=this.insertNewLine(a),a=this._insertLines(a.row,c),a=this.insertInLine(a,e||"")),a},this.insertLines=function(a,b){return a>=this.getLength()?this.insert({row:a,column:0},"\n"+b.join("\n")):this._insertLines(Math.max(a,0),b)},this._insertLines=function(a,b){if(0==b.length)return{row:a,column:0};for(;b.length>61440;){var c=this._insertLines(a,b.slice(0,61440));b=b.slice(61440),a=c.row}var d=[a,0];d.push.apply(d,b),this.$lines.splice.apply(this.$lines,d);var e=new f(a,0,a+b.length,0),g={action:"insertLines",range:e,lines:b};return this._signal("change",{data:g}),e.end},this.insertNewLine=function(a){a=this.$clipPosition(a);var b=this.$lines[a.row]||"";this.$lines[a.row]=b.substring(0,a.column),this.$lines.splice(a.row+1,0,b.substring(a.column,b.length));var c={row:a.row+1,column:0},d={action:"insertText",range:f.fromPoints(a,c),text:this.getNewLineCharacter()};return this._signal("change",{data:d}),c},this.insertInLine=function(a,b){if(0==b.length)return a;var c=this.$lines[a.row]||"";this.$lines[a.row]=c.substring(0,a.column)+b+c.substring(a.column);var d={row:a.row,column:a.column+b.length},e={action:"insertText",range:f.fromPoints(a,d),text:b};return this._signal("change",{data:e}),d},this.remove=function(a){if(a instanceof f||(a=f.fromPoints(a.start,a.end)),a.start=this.$clipPosition(a.start),a.end=this.$clipPosition(a.end),a.isEmpty())return a.start;var b=a.start.row,c=a.end.row;if(a.isMultiLine()){var d=0==a.start.column?b:b+1,e=c-1;a.end.column>0&&this.removeInLine(c,0,a.end.column),e>=d&&this._removeLines(d,e),d!=b&&(this.removeInLine(b,a.start.column,this.getLine(b).length),this.removeNewLine(a.start.row))}else this.removeInLine(b,a.start.column,a.end.column);return a.start},this.removeInLine=function(a,b,c){if(b!=c){var d=new f(a,b,a,c),e=this.getLine(a),g=e.substring(b,c),h=e.substring(0,b)+e.substring(c,e.length);this.$lines.splice(a,1,h);var i={action:"removeText",range:d,text:g};return this._signal("change",{data:i}),d.start}},this.removeLines=function(a,b){return 0>a||b>=this.getLength()?this.remove(new f(a,0,b+1,0)):this._removeLines(a,b)},this._removeLines=function(a,b){var c=new f(a,0,b+1,0),d=this.$lines.splice(a,b-a+1),e={action:"removeLines",range:c,nl:this.getNewLineCharacter(),lines:d};return this._signal("change",{data:e}),d},this.removeNewLine=function(a){var b=this.getLine(a),c=this.getLine(a+1),d=new f(a,b.length,a+1,0),e=b+c;this.$lines.splice(a,2,e);var g={action:"removeText",range:d,text:this.getNewLineCharacter()};this._signal("change",{data:g})},this.replace=function(a,b){if(a instanceof f||(a=f.fromPoints(a.start,a.end)),0==b.length&&a.isEmpty())return a.start;if(b==this.getTextRange(a))return a.end;if(this.remove(a),b)var c=this.insert(a.start,b);else c=a.start;return c},this.applyDeltas=function(a){for(var b=0;b<a.length;b++){var c=a[b],d=f.fromPoints(c.range.start,c.range.end);"insertLines"==c.action?this.insertLines(d.start.row,c.lines):"insertText"==c.action?this.insert(d.start,c.text):"removeLines"==c.action?this._removeLines(d.start.row,d.end.row-1):"removeText"==c.action&&this.remove(d)}},this.revertDeltas=function(a){for(var b=a.length-1;b>=0;b--){var c=a[b],d=f.fromPoints(c.range.start,c.range.end);"insertLines"==c.action?this._removeLines(d.start.row,d.end.row-1):"insertText"==c.action?this.remove(d):"removeLines"==c.action?this._insertLines(d.start.row,c.lines):"removeText"==c.action&&this.insert(d.start,c.text)}},this.indexToPosition=function(a,b){for(var c=this.$lines||this.getAllLines(),d=this.getNewLineCharacter().length,e=b||0,f=c.length;f>e;e++)if(a-=c[e].length+d,0>a)return{row:e,column:a+c[e].length+d};return{row:f-1,column:c[f-1].length}},this.positionToIndex=function(a,b){for(var c=this.$lines||this.getAllLines(),d=this.getNewLineCharacter().length,e=0,f=Math.min(a.row,c.length),g=b||0;f>g;++g)e+=c[g].length+d;return e+a.column}}).call(h.prototype),b.Document=h}),ace.define("ace/lib/lang",["require","exports","module"],function(a,b,c){"use strict";b.last=function(a){return a[a.length-1]},b.stringReverse=function(a){return a.split("").reverse().join("")},b.stringRepeat=function(a,b){for(var c="";b>0;)1&b&&(c+=a),(b>>=1)&&(a+=a);return c};var d=/^\s\s*/,e=/\s\s*$/;b.stringTrimLeft=function(a){return a.replace(d,"")},b.stringTrimRight=function(a){return a.replace(e,"")},b.copyObject=function(a){var b={};for(var c in a)b[c]=a[c];return b},b.copyArray=function(a){for(var b=[],c=0,d=a.length;d>c;c++)a[c]&&"object"==typeof a[c]?b[c]=this.copyObject(a[c]):b[c]=a[c];return b},b.deepCopy=function(a){if("object"!=typeof a||!a)return a;var c=a.constructor;if(c===RegExp)return a;var d=c();for(var e in a)"object"==typeof a[e]?d[e]=b.deepCopy(a[e]):d[e]=a[e];return d},b.arrayToMap=function(a){for(var b={},c=0;c<a.length;c++)b[a[c]]=1;return b},b.createMap=function(a){var b=Object.create(null);for(var c in a)b[c]=a[c];return b},b.arrayRemove=function(a,b){for(var c=0;c<=a.length;c++)b===a[c]&&a.splice(c,1)},b.escapeRegExp=function(a){return a.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},b.escapeHTML=function(a){return a.replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},b.getMatchOffsets=function(a,b){var c=[];return a.replace(b,function(a){c.push({offset:arguments[arguments.length-2],length:a.length})}),c},b.deferredCall=function(a){var b=null,c=function(){b=null,a()},d=function(a){return d.cancel(),b=setTimeout(c,a||0),d};return d.schedule=d,d.call=function(){return this.cancel(),a(),d},d.cancel=function(){return clearTimeout(b),b=null,d},d.isPending=function(){return b},d},b.delayedCall=function(a,b){var c=null,d=function(){c=null,a()},e=function(a){null==c&&(c=setTimeout(d,a||b))};return e.delay=function(a){c&&clearTimeout(c),c=setTimeout(d,a||b)},e.schedule=e,e.call=function(){this.cancel(),a()},e.cancel=function(){c&&clearTimeout(c),c=null},e.isPending=function(){return c},e}}),ace.define("ace/worker/mirror",["require","exports","module","ace/document","ace/lib/lang"],function(a,b,c){"use strict";var d=a("../document").Document,e=a("../lib/lang"),f=b.Mirror=function(a){this.sender=a;var b=this.doc=new d(""),c=this.deferredUpdate=e.delayedCall(this.onUpdate.bind(this)),f=this;a.on("change",function(a){return b.applyDeltas(a.data),f.$timeout?c.schedule(f.$timeout):void f.onUpdate()})};(function(){this.$timeout=500,this.setTimeout=function(a){this.$timeout=a},this.setValue=function(a){this.doc.setValue(a),this.deferredUpdate.schedule(this.$timeout)},this.getValue=function(a){this.sender.callback(this.doc.getValue(),a)},this.onUpdate=function(){},this.isPending=function(){return this.deferredUpdate.isPending()}}).call(f.prototype)}),ace.define("ace/mode/lua/luaparse",["require","exports","module"],function(a,b,c){!function(a,c,d){d(b)}(this,"luaparse",function(a){"use strict";function b(a){if(Ua){var b=Va.pop();b.complete(),ta.locations&&(a.loc=b.loc),ta.ranges&&(a.range=b.range)}return a}function c(a,b,c){for(var d=0,e=a.length;e>d;d++)if(a[d][b]===c)return d;return-1}function d(a){var b=Pa.call(arguments,1);return a=a.replace(/%(\d)/g,function(a,c){return""+b[c-1]||""})}function e(){for(var a,b,c=Pa.call(arguments),d={},e=0,f=c.length;f>e;e++){a=c[e];for(b in a)a.hasOwnProperty(b)&&(d[b]=a[b])}return d}function f(a){var b,c,e=d.apply(null,Pa.call(arguments,1));throw"undefined"!=typeof a.line?(c=a.range[0]-a.lineStart,b=new SyntaxError(d("[%1:%2] %3",a.line,c,e)),b.line=a.line,b.index=a.range[0],b.column=c):(c=Fa-Ma+1,b=new SyntaxError(d("[%1:%2] %3",La,c,e)),b.index=Fa,b.line=La,b.column=c),b}function g(a,b){f(b,Na.expectedToken,a,b.value)}function h(a,b){if("undefined"==typeof b&&(b=Ia.value),"undefined"!=typeof a.type){var c;switch(a.type){case xa:c="string";break;case ya:c="keyword";break;case za:c="identifier";break;case Aa:c="number";break;case Ba:c="symbol";break;case Ca:c="boolean";break;case Da:return f(a,Na.unexpected,"symbol","nil",b)}return f(a,Na.unexpected,c,a.value,b)}return f(a,Na.unexpected,"symbol",a,b)}function i(){for(j();45===sa.charCodeAt(Fa)&&45===sa.charCodeAt(Fa+1);)t(),j();if(Fa>=ua)return{type:wa,value:"<eof>",line:La,lineStart:Ma,range:[Fa,Fa]};var a=sa.charCodeAt(Fa),b=sa.charCodeAt(Fa+1);if(Ka=Fa,C(a))return k();switch(a){case 39:case 34:return n();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return p();case 46:return A(b)?p():46===b?46===sa.charCodeAt(Fa+2)?m():l(".."):l(".");case 61:return l(61===b?"==":"=");case 62:return l(61===b?">=":">");case 60:return l(61===b?"<=":"<");case 126:return 61===b?l("~="):f({},Na.expected,"=","~");case 58:return l(58===b?"::":":");case 91:return 91===b||61===b?o():l("[");case 42:case 47:case 94:case 37:case 44:case 123:case 125:case 93:case 40:case 41:case 59:case 35:case 45:case 43:return l(sa.charAt(Fa))}return h(sa.charAt(Fa))}function j(){for(;ua>Fa;){var a=sa.charCodeAt(Fa);if(y(a))Fa++;else{if(!z(a))break;La++,Ma=++Fa}}}function k(){for(var a,b;D(sa.charCodeAt(++Fa)););return a=sa.slice(Ka,Fa),E(a)?b=ya:"true"===a||"false"===a?(b=Ca,a="true"===a):"nil"===a?(b=Da,a=null):b=za,{type:b,value:a,line:La,lineStart:Ma,range:[Ka,Fa]}}function l(a){return Fa+=a.length,{type:Ba,value:a,line:La,lineStart:Ma,range:[Ka,Fa]}}function m(){return Fa+=3,{type:Ea,value:"...",line:La,lineStart:Ma,range:[Ka,Fa]}}function n(){for(var a,b=sa.charCodeAt(Fa++),c=Fa,d="";ua>Fa&&(a=sa.charCodeAt(Fa++),b!==a);)92===a?(d+=sa.slice(c,Fa-1)+s(),c=Fa):(Fa>=ua||z(a))&&(d+=sa.slice(c,Fa-1),f({},Na.unfinishedString,d+String.fromCharCode(a)));return d+=sa.slice(c,Fa-1),{type:xa,value:d,line:La,lineStart:Ma,range:[Ka,Fa]}}function o(){var a=u();return!1===a&&f(Ga,Na.expected,"[",Ga.value),{type:xa,value:a,line:La,lineStart:Ma,range:[Ka,Fa]}}function p(){var a=sa.charAt(Fa),b=sa.charAt(Fa+1),c="0"===a&&"xX".indexOf(b||null)>=0?q():r();return{type:Aa,value:c,line:La,lineStart:Ma,range:[Ka,Fa]}}function q(){var a,b,c,d,e=0,g=1,h=1;for(d=Fa+=2,B(sa.charCodeAt(Fa))||f({},Na.malformedNumber,sa.slice(Ka,Fa));B(sa.charCodeAt(Fa));)Fa++;if(a=parseInt(sa.slice(d,Fa),16),"."===sa.charAt(Fa)){for(b=++Fa;B(sa.charCodeAt(Fa));)Fa++;e=sa.slice(b,Fa),e=b===Fa?0:parseInt(e,16)/Math.pow(16,Fa-b)}if("pP".indexOf(sa.charAt(Fa)||null)>=0){for(Fa++,"+-".indexOf(sa.charAt(Fa)||null)>=0&&(h="+"===sa.charAt(Fa++)?1:-1),c=Fa,A(sa.charCodeAt(Fa))||f({},Na.malformedNumber,sa.slice(Ka,Fa));A(sa.charCodeAt(Fa));)Fa++;g=sa.slice(c,Fa),g=Math.pow(2,g*h)}return(a+e)*g}function r(){for(;A(sa.charCodeAt(Fa));)Fa++;if("."===sa.charAt(Fa))for(Fa++;A(sa.charCodeAt(Fa));)Fa++;if("eE".indexOf(sa.charAt(Fa)||null)>=0)for(Fa++,"+-".indexOf(sa.charAt(Fa)||null)>=0&&Fa++,A(sa.charCodeAt(Fa))||f({},Na.malformedNumber,sa.slice(Ka,Fa));A(sa.charCodeAt(Fa));)Fa++;return parseFloat(sa.slice(Ka,Fa))}function s(){var a=Fa;switch(sa.charAt(Fa)){case"n":return Fa++,"\n";case"r":return Fa++,"\r";case"t":return Fa++,"	";case"v":return Fa++,"\x0B";case"b":return Fa++,"\b";case"f":return Fa++,"\f";case"z":return Fa++,j(),"";case"x":return B(sa.charCodeAt(Fa+1))&&B(sa.charCodeAt(Fa+2))?(Fa+=3,"\\"+sa.slice(a,Fa)):"\\"+sa.charAt(Fa++);default:if(A(sa.charCodeAt(Fa))){for(;A(sa.charCodeAt(++Fa)););return"\\"+sa.slice(a,Fa)}return sa.charAt(Fa++)}}function t(){Ka=Fa,Fa+=2;var a=sa.charAt(Fa),b="",c=!1,d=Fa,e=Ma,f=La;if("["===a&&(b=u(),!1===b?b=a:c=!0),!c){for(;ua>Fa&&!z(sa.charCodeAt(Fa));)Fa++;ta.comments&&(b=sa.slice(d,Fa))}if(ta.comments){var g=Oa.comment(b,sa.slice(Ka,Fa));ta.locations&&(g.loc={start:{line:f,column:Ka-e},end:{line:La,column:Fa-Ma}}),ta.ranges&&(g.range=[Ka,Fa]),Ja.push(g)}}function u(){var a,b,c=0,d="",e=!1;for(Fa++;"="===sa.charAt(Fa+c);)c++;if("["!==sa.charAt(Fa+c))return!1;for(Fa+=c+1,z(sa.charCodeAt(Fa))&&(La++,Ma=Fa++),b=Fa;ua>Fa;){if(a=sa.charAt(Fa++),z(a.charCodeAt(0))&&(La++,Ma=Fa),"]"===a){e=!0;for(var f=0;c>f;f++)"="!==sa.charAt(Fa+f)&&(e=!1);"]"!==sa.charAt(Fa+c)&&(e=!1)}if(e)break}return d+=sa.slice(b,Fa-1),Fa+=c+1,d}function v(){Ha=Ga,Ga=Ia,Ia=i()}function w(a){return a===Ga.value?(v(),!0):!1}function x(a){a===Ga.value?v():f(Ga,Na.expected,a,Ga.value)}function y(a){return 9===a||32===a||11===a||12===a}function z(a){return 10===a||13===a}function A(a){return a>=48&&57>=a}function B(a){return a>=48&&57>=a||a>=97&&102>=a||a>=65&&70>=a}function C(a){return a>=65&&90>=a||a>=97&&122>=a||95===a}function D(a){return a>=65&&90>=a||a>=97&&122>=a||95===a||a>=48&&57>=a}function E(a){switch(a.length){case 2:return"do"===a||"if"===a||"in"===a||"or"===a;case 3:return"and"===a||"end"===a||"for"===a||"not"===a;case 4:return"else"===a||"goto"===a||"then"===a;case 5:return"break"===a||"local"===a||"until"===a||"while"===a;case 6:return"elseif"===a||"repeat"===a||"return"===a;case 8:return"function"===a}return!1}function F(a){return Ba===a.type?"#-".indexOf(a.value)>=0:ya===a.type?"not"===a.value:!1}function G(a){switch(a.type){case"CallExpression":case"TableCallExpression":case"StringCallExpression":return!0}return!1}function H(a){if(wa===a.type)return!0;if(ya!==a.type)return!1;switch(a.value){case"else":case"elseif":case"end":case"until":return!0;default:return!1}}function I(){Ra.push(Array.apply(null,Ra[Sa++]))}function J(){Ra.pop(),Sa--}function K(a){-1===Qa(Ra[Sa],a)&&Ra[Sa].push(a)}function L(a){K(a.name),M(a,!0)}function M(a,b){b||-1!==c(Ta,"name",a.name)||Ta.push(a),a.isLocal=b}function N(a){return-1!==Qa(Ra[Sa],a)}function O(){return new P(Ga)}function P(a){ta.locations&&(this.loc={start:{line:a.line,column:a.range[0]-a.lineStart},end:{line:0,column:0}}),ta.ranges&&(this.range=[a.range[0],0])}function Q(){Ua&&Va.push(O())}function R(a){Ua&&Va.push(a)}function S(){v(),Q();var a=T();return wa!==Ga.type&&h(Ga),Ua&&!a.length&&(Ha=Ga),b(Oa.chunk(a))}function T(a){var b,c=[];for(ta.scope&&I();!H(Ga);){if("return"===Ga.value){c.push(U());break}b=U(),b&&c.push(b)}return ta.scope&&J(),c}function U(){if(Q(),ya===Ga.type)switch(Ga.value){case"local":return v(),ca();case"if":return v(),aa();case"return":return v(),_();case"function":v();var a=ga();return fa(a);case"while":return v(),Z();case"for":return v(),ba();case"repeat":return v(),$();case"break":return v(),W();case"do":return v(),Y();case"goto":return v(),X()}return Ba===Ga.type&&w("::")?V():(Ua&&Va.pop(),w(";")?void 0:da())}function V(){var a=Ga.value,c=ea();return ta.scope&&(K("::"+a+"::"),M(c,!0)),x("::"),b(Oa.labelStatement(c))}function W(){return b(Oa.breakStatement())}function X(){var a=Ga.value,c=ea();return ta.scope&&(c.isLabel=N("::"+a+"::")),b(Oa.gotoStatement(c))}function Y(){var a=T();return x("end"),b(Oa.doStatement(a))}function Z(){var a=ja();x("do");var c=T();return x("end"),b(Oa.whileStatement(a,c))}function $(){var a=T();x("until");var c=ja();return b(Oa.repeatStatement(c,a))}function _(){var a=[];if("end"!==Ga.value){var c=ia();for(null!=c&&a.push(c);w(",");)c=ja(),a.push(c);w(";")}return b(Oa.returnStatement(a))}function aa(){var a,c,d,e=[];for(Ua&&(d=Va[Va.length-1],Va.push(d)),a=ja(),x("then"),c=T(),e.push(b(Oa.ifClause(a,c))),Ua&&(d=O());w("elseif");)R(d),a=ja(),x("then"),c=T(),e.push(b(Oa.elseifClause(a,c))),Ua&&(d=O());return w("else")&&(Ua&&(d=new P(Ha),Va.push(d)),c=T(),e.push(b(Oa.elseClause(c)))),x("end"),b(Oa.ifStatement(e))}function ba(){var a,c=ea();if(ta.scope&&L(c),w("=")){var d=ja();x(",");var e=ja(),f=w(",")?ja():null;return x("do"),a=T(),x("end"),b(Oa.forNumericStatement(c,d,e,f,a))}for(var g=[c];w(",");)c=ea(),ta.scope&&L(c),g.push(c);x("in");var h=[];do{var i=ja();h.push(i)}while(w(","));return x("do"),a=T(),x("end"),b(Oa.forGenericStatement(g,h,a))}function ca(){var a;if(za===Ga.type){var c=[],d=[];do a=ea(),c.push(a);while(w(","));if(w("="))do{var e=ja();d.push(e)}while(w(","));if(ta.scope)for(var f=0,h=c.length;h>f;f++)L(c[f]);return b(Oa.localStatement(c,d))}return w("function")?(a=ea(),ta.scope&&L(a),fa(a,!0)):void g("<name>",Ga)}function da(){var a,c,d=Ga;if(Ua&&(c=O()),a=ma(),null==a)return h(Ga);if(",=".indexOf(Ga.value)>=0){for(var e,f=[a],i=[];w(",");)e=ma(),null==e&&g("<expression>",Ga),f.push(e);x("=");do e=ja(),i.push(e);while(w(","));return R(c),b(Oa.assignmentStatement(f,i))}return G(a)?(R(c),b(Oa.callStatement(a))):h(d)}function ea(){Q();var a=Ga.value;return za!==Ga.type&&g("<name>",Ga),v(),b(Oa.identifier(a))}function fa(a,c){var d=[];if(x("("),!w(")"))for(;;)if(za===Ga.type){var e=ea();if(ta.scope&&L(e),d.push(e),w(","))continue;if(w(")"))break}else{if(Ea===Ga.type){d.push(oa()),x(")");break}g("<name> or '...'",Ga)}var f=T();return x("end"),c=c||!1,b(Oa.functionStatement(a,d,c,f))}function ga(){var a,c,d;for(Ua&&(d=O()),a=ea(),ta.scope&&M(a,!1);w(".");)R(d),c=ea(),ta.scope&&M(c,!1),a=b(Oa.memberExpression(a,".",c));return w(":")&&(R(d),c=ea(),ta.scope&&M(c,!1),a=b(Oa.memberExpression(a,":",c))),a}function ha(){for(var a,c,d=[];;){if(Q(),Ba===Ga.type&&w("["))a=ja(),x("]"),x("="),c=ja(),d.push(b(Oa.tableKey(a,c)));else if(za===Ga.type)a=ja(),w("=")?(c=ja(),d.push(b(Oa.tableKeyString(a,c)))):d.push(b(Oa.tableValue(a)));else{if(null==(c=ia())){Va.pop();break}d.push(b(Oa.tableValue(c)))}if(",;".indexOf(Ga.value)>=0)v();else if("}"===Ga.value)break}return x("}"),b(Oa.tableConstructorExpression(d))}function ia(){var a=la(0);return a}function ja(){var a=ia();return null!=a?a:void g("<expression>",Ga)}function ka(a){var b=a.charCodeAt(0),c=a.length;if(1===c)switch(b){case 94:return 10;case 42:case 47:case 37:return 7;case 43:case 45:return 6;case 60:case 62:return 3}else if(2===c)switch(b){case 46:return 5;case 60:case 62:case 61:case 126:return 3;case 111:return 1}else if(97===b&&"and"===a)return 2;return 0}function la(a){var c,d,e=Ga.value;if(Ua&&(d=O()),F(Ga)){Q(),v();var f=la(8);null==f&&g("<expression>",Ga),c=b(Oa.unaryExpression(e,f))}if(null==c&&(c=oa(),null==c&&(c=ma())),null==c)return null;for(var h;;){if(e=Ga.value,h=Ba===Ga.type||ya===Ga.type?ka(e):0,0===h||a>=h)break;("^"===e||".."===e)&&h--,v();var i=la(h);null==i&&g("<expression>",Ga),Ua&&Va.push(d),c=b(Oa.binaryExpression(e,c,i))}return c}function ma(){var a,c,d,e;if(Ua&&(d=O()),za===Ga.type)c=Ga.value,a=ea(),ta.scope&&M(a,e=N(c));else{if(!w("("))return null;a=ja(),x(")"),ta.scope&&(e=a.isLocal)}for(var f,g;;)if(Ba===Ga.type)switch(Ga.value){case"[":R(d),v(),f=ja(),a=b(Oa.indexExpression(a,f)),x("]");break;case".":R(d),v(),g=ea(),ta.scope&&M(g,e),a=b(Oa.memberExpression(a,".",g));break;case":":R(d),v(),g=ea(),ta.scope&&M(g,e),a=b(Oa.memberExpression(a,":",g)),R(d),a=na(a);break;case"(":case"{":R(d),a=na(a);break;default:return a}else{if(xa!==Ga.type)break;R(d),a=na(a)}return a}function na(a){if(Ba===Ga.type)switch(Ga.value){case"(":v();var c=[],d=ia();for(null!=d&&c.push(d);w(",");)d=ja(),c.push(d);return x(")"),b(Oa.callExpression(a,c));case"{":Q(),v();var e=ha();return b(Oa.tableCallExpression(a,e))}else if(xa===Ga.type)return b(Oa.stringCallExpression(a,oa()));g("function arguments",Ga)}function oa(){var a,c=xa|Aa|Ca|Da|Ea,d=Ga.value,e=Ga.type;if(Ua&&(a=O()),e&c){R(a);var f=sa.slice(Ga.range[0],Ga.range[1]);return v(),b(Oa.literal(e,d,f))}return ya===e&&"function"===d?(R(a),v(),fa(null)):w("{")?(R(a),ha()):void 0}function pa(b,c){return"undefined"==typeof c&&"object"==typeof b&&(c=b,b=void 0),c||(c={}),sa=b||"",ta=e(va,c),Fa=0,La=1,Ma=0,ua=sa.length,Ra=[[]],Sa=0,Ta=[],Va=[],ta.comments&&(Ja=[]),ta.wait?a:ra()}function qa(b){return sa+=String(b),ua=sa.length,a}function ra(a){"undefined"!=typeof a&&qa(a),ua=sa.length,Ua=ta.locations||ta.ranges,Ia=i();var b=S();if(ta.comments&&(b.comments=Ja),ta.scope&&(b.globals=Ta),Va.length>0)throw new Error("Location tracking failed. This is most likely a bug in luaparse");
return b}a.version="0.1.4";var sa,ta,ua,va=a.defaultOptions={wait:!1,comments:!0,scope:!1,locations:!1,ranges:!1},wa=1,xa=2,ya=4,za=8,Aa=16,Ba=32,Ca=64,Da=128,Ea=256;a.tokenTypes={EOF:wa,StringLiteral:xa,Keyword:ya,Identifier:za,NumericLiteral:Aa,Punctuator:Ba,BooleanLiteral:Ca,NilLiteral:Da,VarargLiteral:Ea};var Fa,Ga,Ha,Ia,Ja,Ka,La,Ma,Na=a.errors={unexpected:"Unexpected %1 '%2' near '%3'",expected:"'%1' expected near '%2'",expectedToken:"%1 expected near '%2'",unfinishedString:"unfinished string near '%1'",malformedNumber:"malformed number near '%1'"},Oa=a.ast={labelStatement:function(a){return{type:"LabelStatement",label:a}},breakStatement:function(){return{type:"BreakStatement"}},gotoStatement:function(a){return{type:"GotoStatement",label:a}},returnStatement:function(a){return{type:"ReturnStatement",arguments:a}},ifStatement:function(a){return{type:"IfStatement",clauses:a}},ifClause:function(a,b){return{type:"IfClause",condition:a,body:b}},elseifClause:function(a,b){return{type:"ElseifClause",condition:a,body:b}},elseClause:function(a){return{type:"ElseClause",body:a}},whileStatement:function(a,b){return{type:"WhileStatement",condition:a,body:b}},doStatement:function(a){return{type:"DoStatement",body:a}},repeatStatement:function(a,b){return{type:"RepeatStatement",condition:a,body:b}},localStatement:function(a,b){return{type:"LocalStatement",variables:a,init:b}},assignmentStatement:function(a,b){return{type:"AssignmentStatement",variables:a,init:b}},callStatement:function(a){return{type:"CallStatement",expression:a}},functionStatement:function(a,b,c,d){return{type:"FunctionDeclaration",identifier:a,isLocal:c,parameters:b,body:d}},forNumericStatement:function(a,b,c,d,e){return{type:"ForNumericStatement",variable:a,start:b,end:c,step:d,body:e}},forGenericStatement:function(a,b,c){return{type:"ForGenericStatement",variables:a,iterators:b,body:c}},chunk:function(a){return{type:"Chunk",body:a}},identifier:function(a){return{type:"Identifier",name:a}},literal:function(a,b,c){return a=a===xa?"StringLiteral":a===Aa?"NumericLiteral":a===Ca?"BooleanLiteral":a===Da?"NilLiteral":"VarargLiteral",{type:a,value:b,raw:c}},tableKey:function(a,b){return{type:"TableKey",key:a,value:b}},tableKeyString:function(a,b){return{type:"TableKeyString",key:a,value:b}},tableValue:function(a){return{type:"TableValue",value:a}},tableConstructorExpression:function(a){return{type:"TableConstructorExpression",fields:a}},binaryExpression:function(a,b,c){var d="and"===a||"or"===a?"LogicalExpression":"BinaryExpression";return{type:d,operator:a,left:b,right:c}},unaryExpression:function(a,b){return{type:"UnaryExpression",operator:a,argument:b}},memberExpression:function(a,b,c){return{type:"MemberExpression",indexer:b,identifier:c,base:a}},indexExpression:function(a,b){return{type:"IndexExpression",base:a,index:b}},callExpression:function(a,b){return{type:"CallExpression",base:a,arguments:b}},tableCallExpression:function(a,b){return{type:"TableCallExpression",base:a,arguments:b}},stringCallExpression:function(a,b){return{type:"StringCallExpression",base:a,argument:b}},comment:function(a,b){return{type:"Comment",value:a,raw:b}}},Pa=Array.prototype.slice,Qa=(Object.prototype.toString,function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1});a.lex=i;var Ra,Sa,Ta,Ua,Va=[];P.prototype.complete=function(){ta.locations&&(this.loc.end.line=Ha.line,this.loc.end.column=Ha.range[1]-Ha.lineStart),ta.ranges&&(this.range[1]=Ha.range[1])},a.parse=pa,a.write=qa,a.end=ra})}),ace.define("ace/mode/lua_worker",["require","exports","module","ace/lib/oop","ace/worker/mirror","ace/mode/lua/luaparse"],function(a,b,c){"use strict";var d=a("../lib/oop"),e=a("../worker/mirror").Mirror,f=a("../mode/lua/luaparse"),g=b.Worker=function(a){e.call(this,a),this.setTimeout(500)};d.inherits(g,e),function(){this.onUpdate=function(){var a=this.doc.getValue();try{f.parse(a)}catch(b){return void(b instanceof SyntaxError&&this.sender.emit("error",{row:b.line-1,column:b.column,text:b.message,type:"error"}))}this.sender.emit("ok")}}.call(g.prototype)}),ace.define("ace/lib/es5-shim",["require","exports","module"],function(a,b,c){function d(){}function e(a){try{return Object.defineProperty(a,"sentinel",{}),"sentinel"in a}catch(b){}}function f(a){return a=+a,a!==a?a=0:0!==a&&a!==1/0&&a!==-(1/0)&&(a=(a>0||-1)*Math.floor(Math.abs(a))),a}Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError("Function.prototype.bind called on incompatible "+b);var c=o.call(arguments,1),e=function(){if(this instanceof e){var d=b.apply(this,c.concat(o.call(arguments)));return Object(d)===d?d:this}return b.apply(a,c.concat(o.call(arguments)))};return b.prototype&&(d.prototype=b.prototype,e.prototype=new d,d.prototype=null),e});var g,h,i,j,k,l=Function.prototype.call,m=Array.prototype,n=Object.prototype,o=m.slice,p=l.bind(n.toString),q=l.bind(n.hasOwnProperty);if((k=q(n,"__defineGetter__"))&&(g=l.bind(n.__defineGetter__),h=l.bind(n.__defineSetter__),i=l.bind(n.__lookupGetter__),j=l.bind(n.__lookupSetter__)),2!=[1,2].splice(0).length)if(function(){function a(a){var b=new Array(a+2);return b[0]=b[1]=0,b}var b,c=[];return c.splice.apply(c,a(20)),c.splice.apply(c,a(26)),b=c.length,c.splice(5,0,"XXX"),b+1==c.length,b+1==c.length?!0:void 0}()){var r=Array.prototype.splice;Array.prototype.splice=function(a,b){return arguments.length?r.apply(this,[void 0===a?0:a,void 0===b?this.length-a:b].concat(o.call(arguments,2))):[]}}else Array.prototype.splice=function(a,b){var c=this.length;a>0?a>c&&(a=c):void 0==a?a=0:0>a&&(a=Math.max(c+a,0)),c>a+b||(b=c-a);var d=this.slice(a,a+b),e=o.call(arguments,2),f=e.length;if(a===c)f&&this.push.apply(this,e);else{var g=Math.min(b,c-a),h=a+g,i=h+f-g,j=c-h,k=c-g;if(h>i)for(var l=0;j>l;++l)this[i+l]=this[h+l];else if(i>h)for(l=j;l--;)this[i+l]=this[h+l];if(f&&a===k)this.length=k,this.push.apply(this,e);else for(this.length=k+f,l=0;f>l;++l)this[a+l]=e[l]}return d};Array.isArray||(Array.isArray=function(a){return"[object Array]"==p(a)});var s=Object("a"),t="a"!=s[0]||!(0 in s);if(Array.prototype.forEach||(Array.prototype.forEach=function(a){var b=K(this),c=t&&"[object String]"==p(this)?this.split(""):b,d=arguments[1],e=-1,f=c.length>>>0;if("[object Function]"!=p(a))throw new TypeError;for(;++e<f;)e in c&&a.call(d,c[e],e,b)}),Array.prototype.map||(Array.prototype.map=function(a){var b=K(this),c=t&&"[object String]"==p(this)?this.split(""):b,d=c.length>>>0,e=Array(d),f=arguments[1];if("[object Function]"!=p(a))throw new TypeError(a+" is not a function");for(var g=0;d>g;g++)g in c&&(e[g]=a.call(f,c[g],g,b));return e}),Array.prototype.filter||(Array.prototype.filter=function(a){var b,c=K(this),d=t&&"[object String]"==p(this)?this.split(""):c,e=d.length>>>0,f=[],g=arguments[1];if("[object Function]"!=p(a))throw new TypeError(a+" is not a function");for(var h=0;e>h;h++)h in d&&(b=d[h],a.call(g,b,h,c)&&f.push(b));return f}),Array.prototype.every||(Array.prototype.every=function(a){var b=K(this),c=t&&"[object String]"==p(this)?this.split(""):b,d=c.length>>>0,e=arguments[1];if("[object Function]"!=p(a))throw new TypeError(a+" is not a function");for(var f=0;d>f;f++)if(f in c&&!a.call(e,c[f],f,b))return!1;return!0}),Array.prototype.some||(Array.prototype.some=function(a){var b=K(this),c=t&&"[object String]"==p(this)?this.split(""):b,d=c.length>>>0,e=arguments[1];if("[object Function]"!=p(a))throw new TypeError(a+" is not a function");for(var f=0;d>f;f++)if(f in c&&a.call(e,c[f],f,b))return!0;return!1}),Array.prototype.reduce||(Array.prototype.reduce=function(a){var b=K(this),c=t&&"[object String]"==p(this)?this.split(""):b,d=c.length>>>0;if("[object Function]"!=p(a))throw new TypeError(a+" is not a function");if(!d&&1==arguments.length)throw new TypeError("reduce of empty array with no initial value");var e,f=0;if(arguments.length>=2)e=arguments[1];else for(;;){if(f in c){e=c[f++];break}if(++f>=d)throw new TypeError("reduce of empty array with no initial value")}for(;d>f;f++)f in c&&(e=a.call(void 0,e,c[f],f,b));return e}),Array.prototype.reduceRight||(Array.prototype.reduceRight=function(a){var b=K(this),c=t&&"[object String]"==p(this)?this.split(""):b,d=c.length>>>0;if("[object Function]"!=p(a))throw new TypeError(a+" is not a function");if(!d&&1==arguments.length)throw new TypeError("reduceRight of empty array with no initial value");var e,f=d-1;if(arguments.length>=2)e=arguments[1];else for(;;){if(f in c){e=c[f--];break}if(--f<0)throw new TypeError("reduceRight of empty array with no initial value")}do f in this&&(e=a.call(void 0,e,c[f],f,b));while(f--);return e}),Array.prototype.indexOf&&-1==[0,1].indexOf(1,2)||(Array.prototype.indexOf=function(a){var b=t&&"[object String]"==p(this)?this.split(""):K(this),c=b.length>>>0;if(!c)return-1;var d=0;for(arguments.length>1&&(d=f(arguments[1])),d=d>=0?d:Math.max(0,c+d);c>d;d++)if(d in b&&b[d]===a)return d;return-1}),Array.prototype.lastIndexOf&&-1==[0,1].lastIndexOf(0,-3)||(Array.prototype.lastIndexOf=function(a){var b=t&&"[object String]"==p(this)?this.split(""):K(this),c=b.length>>>0;if(!c)return-1;var d=c-1;for(arguments.length>1&&(d=Math.min(d,f(arguments[1]))),d=d>=0?d:c-Math.abs(d);d>=0;d--)if(d in b&&a===b[d])return d;return-1}),Object.getPrototypeOf||(Object.getPrototypeOf=function(a){return a.__proto__||(a.constructor?a.constructor.prototype:n)}),!Object.getOwnPropertyDescriptor){var u="Object.getOwnPropertyDescriptor called on a non-object: ";Object.getOwnPropertyDescriptor=function(a,b){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(u+a);if(q(a,b)){var c,d,e;if(c={enumerable:!0,configurable:!0},k){var f=a.__proto__;a.__proto__=n;var d=i(a,b),e=j(a,b);if(a.__proto__=f,d||e)return d&&(c.get=d),e&&(c.set=e),c}return c.value=a[b],c}}}if(Object.getOwnPropertyNames||(Object.getOwnPropertyNames=function(a){return Object.keys(a)}),!Object.create){var v;v=null===Object.prototype.__proto__?function(){return{__proto__:null}}:function(){var a={};for(var b in a)a[b]=null;return a.constructor=a.hasOwnProperty=a.propertyIsEnumerable=a.isPrototypeOf=a.toLocaleString=a.toString=a.valueOf=a.__proto__=null,a},Object.create=function(a,b){var c;if(null===a)c=v();else{if("object"!=typeof a)throw new TypeError("typeof prototype["+typeof a+"] != 'object'");var d=function(){};d.prototype=a,c=new d,c.__proto__=a}return void 0!==b&&Object.defineProperties(c,b),c}}if(Object.defineProperty){var w=e({}),x="undefined"==typeof document||e(document.createElement("div"));if(!w||!x)var y=Object.defineProperty}if(!Object.defineProperty||y){var z="Property description must be an object: ",A="Object.defineProperty called on non-object: ",B="getters & setters can not be defined on this javascript engine";Object.defineProperty=function(a,b,c){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError(A+a);if("object"!=typeof c&&"function"!=typeof c||null===c)throw new TypeError(z+c);if(y)try{return y.call(Object,a,b,c)}catch(d){}if(q(c,"value"))if(k&&(i(a,b)||j(a,b))){var e=a.__proto__;a.__proto__=n,delete a[b],a[b]=c.value,a.__proto__=e}else a[b]=c.value;else{if(!k)throw new TypeError(B);q(c,"get")&&g(a,b,c.get),q(c,"set")&&h(a,b,c.set)}return a}}Object.defineProperties||(Object.defineProperties=function(a,b){for(var c in b)q(b,c)&&Object.defineProperty(a,c,b[c]);return a}),Object.seal||(Object.seal=function(a){return a}),Object.freeze||(Object.freeze=function(a){return a});try{Object.freeze(function(){})}catch(C){Object.freeze=function(a){return function(b){return"function"==typeof b?b:a(b)}}(Object.freeze)}if(Object.preventExtensions||(Object.preventExtensions=function(a){return a}),Object.isSealed||(Object.isSealed=function(a){return!1}),Object.isFrozen||(Object.isFrozen=function(a){return!1}),Object.isExtensible||(Object.isExtensible=function(a){if(Object(a)===a)throw new TypeError;for(var b="";q(a,b);)b+="?";a[b]=!0;var c=q(a,b);return delete a[b],c}),!Object.keys){var D=!0,E=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],F=E.length;for(var G in{toString:null})D=!1;Object.keys=function L(a){if("object"!=typeof a&&"function"!=typeof a||null===a)throw new TypeError("Object.keys called on a non-object");var L=[];for(var b in a)q(a,b)&&L.push(b);if(D)for(var c=0,d=F;d>c;c++){var e=E[c];q(a,e)&&L.push(e)}return L}}Date.now||(Date.now=function(){return(new Date).getTime()});var H="	\n\x0B\f\r   ᠎             　\u2028\u2029\ufeff";if(!String.prototype.trim||H.trim()){H="["+H+"]";var I=new RegExp("^"+H+H+"*"),J=new RegExp(H+H+"*$");String.prototype.trim=function(){return String(this).replace(I,"").replace(J,"")}}var K=function(a){if(null==a)throw new TypeError("can't convert "+a+" to object");return Object(a)}});