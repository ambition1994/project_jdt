ace.define("ace/keyboard/vim/registers",["require","exports","module"],function(a,b,c){"never use strict";c.exports={_default:{text:"",isLine:!1}}}),ace.define("ace/keyboard/vim/maps/util",["require","exports","module","ace/keyboard/vim/registers","ace/lib/dom"],function(a,b,c){var d=a("../registers"),e=a("../../../lib/dom");e.importCssString(".insert-mode .ace_cursor{    border-left: 2px solid #333333;}.ace_dark.insert-mode .ace_cursor{    border-left: 2px solid #eeeeee;}.normal-mode .ace_cursor{    border: 0!important;    background-color: red;    opacity: 0.5;}","vimMode"),c.exports={onVisualMode:!1,onVisualLineMode:!1,currentMode:"normal",noMode:function(a){a.unsetStyle("insert-mode"),a.unsetStyle("normal-mode"),a.commands.recording&&a.commands.toggleRecording(a),a.setOverwrite(!1)},insertMode:function(a){this.currentMode="insert",a.setStyle("insert-mode"),a.unsetStyle("normal-mode"),a.setOverwrite(!1),a.keyBinding.$data.buffer="",a.keyBinding.$data.vimState="insertMode",this.onVisualMode=!1,this.onVisualLineMode=!1,this.onInsertReplaySequence?(a.commands.macro=this.onInsertReplaySequence,a.commands.replay(a),this.onInsertReplaySequence=null,this.normalMode(a)):(a._emit("changeStatus"),a.commands.recording||a.commands.toggleRecording(a))},normalMode:function(a){this.currentMode="normal",a.unsetStyle("insert-mode"),a.setStyle("normal-mode"),a.clearSelection();var b;return a.getOverwrite()||(b=a.getCursorPosition(),b.column>0&&a.navigateLeft()),a.setOverwrite(!0),a.keyBinding.$data.buffer="",a.keyBinding.$data.vimState="start",this.onVisualMode=!1,this.onVisualLineMode=!1,a._emit("changeStatus"),a.commands.recording?(a.commands.toggleRecording(a),a.commands.macro):[]},visualMode:function(a,b){return this.onVisualLineMode&&b||this.onVisualMode&&!b?void this.normalMode(a):(a.setStyle("insert-mode"),a.unsetStyle("normal-mode"),a._emit("changeStatus"),void(b?this.onVisualLineMode=!0:(this.onVisualMode=!0,this.onVisualLineMode=!1)))},getRightNthChar:function(a,b,c,d){var e=a.getSession().getLine(b.row),f=e.substr(b.column+1).split(c);return d<f.length?f.slice(0,d).join(c).length:null},getLeftNthChar:function(a,b,c,d){var e=a.getSession().getLine(b.row),f=e.substr(0,b.column).split(c);return d<f.length?f.slice(-1*d).join(c).length:null},toRealChar:function(a){return 1===a.length?a:/^shift-./.test(a)?a[a.length-1].toUpperCase():""},copyLine:function(a){var b=a.getCursorPosition();a.selection.moveTo(b.row,b.column),a.selection.selectLine(),d._default.isLine=!0,d._default.text=a.getCopyText().replace(/\n$/,""),a.selection.moveTo(b.row,b.column)}}}),ace.define("ace/keyboard/vim/maps/motions",["require","exports","module","ace/keyboard/vim/maps/util","ace/search","ace/range"],function(a,b,c){"use strict";function d(a){if("function"==typeof a){var b=a;a=this}else var b=a.getPos;return a.nav=function(a,c,d,e){var f=b(a,c,d,e,!1);f&&a.selection.moveTo(f.row,f.column)},a.sel=function(a,c,d,e){var f=b(a,c,d,e,!0);f&&a.selection.selectTo(f.row,f.column)},a}function e(a,b,c){return m.$options.needle=b,m.$options.backwards=-1==c,m.find(a.session)}var f=a("./util"),g=function(a,b){var c=a.renderer.getScrollTopRow(),d=a.getCursorPosition().row,e=d-c;b&&b.call(a),a.renderer.scrollToRow(a.getCursorPosition().row-e)},h=/[\s.\/\\()\"'-:,.;<>~!@#$%^&*|+=\[\]{}`~?]/,i=/[.\/\\()\"'-:,.;<>~!@#$%^&*|+=\[\]{}`~?]/,j=/\s/,k=function(a,b){var c=a.selection;this.range=c.getRange(),b=b||c.selectionLead,this.row=b.row,this.col=b.column;var d=a.session.getLine(this.row),e=a.session.getLength();this.ch=d[this.col]||"\n",this.skippedLines=0,this.next=function(){return this.ch=d[++this.col]||this.handleNewLine(1),this.ch},this.prev=function(){return this.ch=d[--this.col]||this.handleNewLine(-1),this.ch},this.peek=function(b){var c=d[this.col+b];return c?c:-1==b?"\n":this.col==d.length-1?"\n":a.session.getLine(this.row+1)[0]||"\n"},this.handleNewLine=function(b){return 1==b?this.col==d.length?"\n":this.row==e-1?"":(this.col=0,this.row++,d=a.session.getLine(this.row),this.skippedLines++,d[0]||"\n"):-1==b?0===this.row?"":(this.row--,d=a.session.getLine(this.row),this.col=d.length,this.skippedLines--,"\n"):void 0},this.debug=function(){console.log(d.substring(0,this.col)+"|"+this.ch+"'"+this.col+"'"+d.substr(this.col+1))}},l=a("../../../search").Search,m=new l,n=a("../../../range").Range,o={};c.exports={w:new d(function(a){var b=new k(a);if(b.ch&&i.test(b.ch))for(;b.ch&&i.test(b.ch);)b.next();else for(;b.ch&&!h.test(b.ch);)b.next();for(;b.ch&&j.test(b.ch)&&b.skippedLines<2;)b.next();return 2==b.skippedLines&&b.prev(),{column:b.col,row:b.row}}),W:new d(function(a){for(var b=new k(a);b.ch&&(!j.test(b.ch)||j.test(b.peek(1)))&&b.skippedLines<2;)b.next();return 2==b.skippedLines?b.prev():b.next(),{column:b.col,row:b.row}}),b:new d(function(a){var b=new k(a);for(b.prev();b.ch&&j.test(b.ch)&&b.skippedLines>-2;)b.prev();if(b.ch&&i.test(b.ch))for(;b.ch&&i.test(b.ch);)b.prev();else for(;b.ch&&!h.test(b.ch);)b.prev();return b.ch&&b.next(),{column:b.col,row:b.row}}),B:new d(function(a){var b=new k(a);for(b.prev();b.ch&&(j.test(b.ch)||!j.test(b.peek(-1)))&&b.skippedLines>-2;)b.prev();return-2==b.skippedLines&&b.next(),{column:b.col,row:b.row}}),e:new d(function(a){var b=new k(a);for(b.next();b.ch&&j.test(b.ch);)b.next();if(b.ch&&i.test(b.ch))for(;b.ch&&i.test(b.ch);)b.next();else for(;b.ch&&!h.test(b.ch);)b.next();return b.ch&&b.prev(),{column:b.col,row:b.row}}),E:new d(function(a){var b=new k(a);for(b.next();b.ch&&(j.test(b.ch)||!j.test(b.peek(1)));)b.next();return{column:b.col,row:b.row}}),l:{nav:function(a){var b=a.getCursorPosition(),c=b.column,d=a.session.getLine(b.row).length;d&&c!==d&&a.navigateRight()},sel:function(a){var b=a.getCursorPosition(),c=b.column,d=a.session.getLine(b.row).length;d&&c!==d&&a.selection.selectRight()}},h:{nav:function(a){var b=a.getCursorPosition();b.column>0&&a.navigateLeft()},sel:function(a){var b=a.getCursorPosition();b.column>0&&a.selection.selectLeft()}},H:{nav:function(a){var b=a.renderer.getScrollTopRow();a.moveCursorTo(b)},sel:function(a){var b=a.renderer.getScrollTopRow();a.selection.selectTo(b)}},M:{nav:function(a){var b=a.renderer.getScrollTopRow(),c=a.renderer.getScrollBottomRow(),d=b+(c-b)/2;a.moveCursorTo(d)},sel:function(a){var b=a.renderer.getScrollTopRow(),c=a.renderer.getScrollBottomRow(),d=b+(c-b)/2;a.selection.selectTo(d)}},L:{nav:function(a){var b=a.renderer.getScrollBottomRow();a.moveCursorTo(b)},sel:function(a){var b=a.renderer.getScrollBottomRow();a.selection.selectTo(b)}},k:{nav:function(a){a.navigateUp()},sel:function(a){a.selection.selectUp()}},j:{nav:function(a){a.navigateDown()},sel:function(a){a.selection.selectDown()}},i:{param:!0,sel:function(a,b,c,d){switch(d){case"w":a.selection.selectWord();break;case"W":a.selection.selectAWord();break;case"(":case"{":case"[":var f=a.getCursorPosition(),g=a.session.$findClosingBracket(d,f,/paren/);if(!g)return;var h=a.session.$findOpeningBracket(a.session.$brackets[d],f,/paren/);if(!h)return;h.column++,a.selection.setSelectionRange(n.fromPoints(h,g));break;case"'":case'"':case"/":var g=e(a,d,1);if(!g)return;var h=e(a,d,-1);if(!h)return;a.selection.setSelectionRange(n.fromPoints(h.end,g.start))}}},a:{param:!0,sel:function(a,b,c,d){switch(d){case"w":a.selection.selectAWord();break;case"W":a.selection.selectAWord();break;case")":case"}":case"]":d=a.session.$brackets[d];case"(":case"{":case"[":var f=a.getCursorPosition(),g=a.session.$findClosingBracket(d,f,/paren/);if(!g)return;var h=a.session.$findOpeningBracket(a.session.$brackets[d],f,/paren/);if(!h)return;g.column++,a.selection.setSelectionRange(n.fromPoints(h,g));break;case"'":case'"':case"/":var g=e(a,d,1);if(!g)return;var h=e(a,d,-1);if(!h)return;g.column++,a.selection.setSelectionRange(n.fromPoints(h.start,g.end))}}},f:new d({param:!0,handlesCount:!0,getPos:function(a,b,c,d,e,g){"space"==d&&(d=" "),g||(o={ch:"f",param:d});var h=a.getCursorPosition(),i=f.getRightNthChar(a,h,d,c||1);return"number"==typeof i?(h.column+=i+(e?2:1),h):void 0}}),F:new d({param:!0,handlesCount:!0,getPos:function(a,b,c,d,e,g){"space"==d&&(d=" "),g||(o={ch:"F",param:d});var h=a.getCursorPosition(),i=f.getLeftNthChar(a,h,d,c||1);return"number"==typeof i?(h.column-=i+1,h):void 0}}),t:new d({param:!0,handlesCount:!0,getPos:function(a,b,c,d,e,g){"space"==d&&(d=" "),g||(o={ch:"t",param:d});var h=a.getCursorPosition(),i=f.getRightNthChar(a,h,d,c||1);if(g&&0==i&&!(c>1))var i=f.getRightNthChar(a,h,d,2);return"number"==typeof i?(h.column+=i+(e?1:0),h):void 0}}),T:new d({param:!0,handlesCount:!0,getPos:function(a,b,c,d,e,g){"space"==d&&(d=" "),g||(o={ch:"T",param:d});var h=a.getCursorPosition(),i=f.getLeftNthChar(a,h,d,c||1);if(g&&0==i&&!(c>1))var i=f.getLeftNthChar(a,h,d,2);return"number"==typeof i?(h.column-=i,h):void 0}}),";":new d({handlesCount:!0,getPos:function(a,b,d,e,f){var g=o.ch;if(g)return c.exports[g].getPos(a,b,d,o.param,f,!0)}}),",":new d({handlesCount:!0,getPos:function(a,b,d,e,f){var g=o.ch;if(g){var h=g.toUpperCase();return g=g===h?g.toLowerCase():h,c.exports[g].getPos(a,b,d,o.param,f,!0)}}}),"^":{nav:function(a){a.navigateLineStart()},sel:function(a){a.selection.selectLineStart()}},$:{handlesCount:!0,nav:function(a,b,c,d){c>1&&a.navigateDown(c-1),a.navigateLineEnd()},sel:function(a,b,c,d){c>1&&a.selection.moveCursorBy(c-1,0),a.selection.selectLineEnd()}},0:new d(function(a){return{row:a.selection.lead.row,column:0}}),G:{nav:function(a,b,c,d){c||0===c||(c=a.session.getLength()),a.gotoLine(c)},sel:function(a,b,c,d){c||0===c||(c=a.session.getLength()),a.selection.selectTo(c,0)}},g:{param:!0,nav:function(a,b,c,d){switch(d){case"m":console.log("Middle line");break;case"e":console.log("End of prev word");break;case"g":a.gotoLine(c||0);case"u":a.gotoLine(c||0);case"U":a.gotoLine(c||0)}},sel:function(a,b,c,d){switch(d){case"m":console.log("Middle line");break;case"e":console.log("End of prev word");break;case"g":a.selection.selectTo(c||0,0)}}},o:{nav:function(a,b,c,d){c=c||1;for(var e="";0<c--;)e+="\n";e.length&&(a.navigateLineEnd(),a.insert(e),f.insertMode(a))}},O:{nav:function(a,b,c,d){var e=a.getCursorPosition().row;c=c||1;for(var g="";0<c--;)g+="\n";g.length&&(e>0?(a.navigateUp(),a.navigateLineEnd(),a.insert(g)):(a.session.insert({row:0,column:0},g),a.navigateUp()),f.insertMode(a))}},"%":new d(function(a){var b=/[\[\]{}()]/g,c=a.getCursorPosition(),d=a.session.getLine(c.row)[c.column];if(!b.test(d)){var f=e(a,b);if(!f)return;c=f.start}var g=a.session.findMatchingBracket({row:c.row,column:c.column+1});return g}),"{":new d(function(a){for(var b=a.session,c=b.selection.lead.row;c>0&&!/\S/.test(b.getLine(c));)c--;for(;/\S/.test(b.getLine(c));)c--;return{column:0,row:c}}),"}":new d(function(a){for(var b=a.session,c=b.getLength(),d=b.selection.lead.row;c>d&&!/\S/.test(b.getLine(d));)d++;for(;/\S/.test(b.getLine(d));)d++;return{column:0,row:d}}),"ctrl-d":{nav:function(a,b,c,d){a.selection.clearSelection(),g(a,a.gotoPageDown)},sel:function(a,b,c,d){g(a,a.selectPageDown)}},"ctrl-u":{nav:function(a,b,c,d){a.selection.clearSelection(),g(a,a.gotoPageUp)},sel:function(a,b,c,d){g(a,a.selectPageUp)}},"`":new d({param:!0,handlesCount:!0,getPos:function(a,b,c,d,e){var f=a.session,g=f.vimMarkers&&f.vimMarkers[d];return g?g.getPosition():void 0}}),"'":new d({param:!0,handlesCount:!0,getPos:function(a,b,c,d,e){var f=a.session,g=f.vimMarkers&&f.vimMarkers[d];if(g){var h=g.getPosition(),i=a.session.getLine(h.row);return h.column=i.search(/\S/),-1==h.column&&(h.column=i.length),h}},isLine:!0})},c.exports.backspace=c.exports.left=c.exports.h,c.exports.space=c.exports["return"]=c.exports.right=c.exports.l,c.exports.up=c.exports.k,c.exports.down=c.exports.j,c.exports.pagedown=c.exports["ctrl-d"],c.exports.pageup=c.exports["ctrl-u"],c.exports.home=c.exports[0],c.exports.end=c.exports.$}),ace.define("ace/keyboard/vim/maps/operators",["require","exports","module","ace/keyboard/vim/maps/util","ace/keyboard/vim/registers","ace/range"],function(a,b,c){"use strict";var d=a("./util"),e=a("../registers"),f=a("../../../range").Range;c.exports={d:{selFn:function(a,b,c,f){e._default.text=a.getCopyText(),e._default.isLine=d.onVisualLineMode,d.onVisualLineMode?a.removeLines():a.session.remove(b),d.normalMode(a)},fn:function(a,b,c,d){switch(c=c||1,d){case"d":e._default.text="",e._default.isLine=!0;for(var f=0;c>f;f++){a.selection.selectLine(),e._default.text+=a.getCopyText();var g=a.getSelectionRange();if(!g.isMultiLine()){var h=g.start.row-1,i=a.session.getLine(h).length;g.setStart(h,i),a.session.remove(g),a.selection.clearSelection();break}a.session.remove(g),a.selection.clearSelection()}e._default.text=e._default.text.replace(/\n$/,"");break;default:b&&(a.selection.setSelectionRange(b),e._default.text=a.getCopyText(),e._default.isLine=!1,a.session.remove(b),a.selection.clearSelection())}}},c:{selFn:function(a,b,c,e){a.session.remove(b),d.insertMode(a)},fn:function(a,b,c,e){switch(c=c||1,e){case"c":a.$blockScrolling++,a.selection.$moveSelection(function(){a.selection.moveCursorBy(c-1,0)});var g=a.$getSelectedRows();b=new f(g.first,0,g.last,1/0),a.session.remove(b),a.$blockScrolling--,d.insertMode(a);break;default:b&&(a.session.remove(b),d.insertMode(a))}}},y:{selFn:function(a,b,c,f){e._default.text=a.getCopyText(),e._default.isLine=d.onVisualLineMode,a.selection.clearSelection(),d.normalMode(a)},fn:function(a,b,c,d){switch(c=c||1,d&&d.isLine&&(d="y"),d){case"y":var f=a.getCursorPosition();a.selection.selectLine();for(var g=0;c-1>g;g++)a.selection.moveCursorDown();e._default.text=a.getCopyText().replace(/\n$/,""),a.selection.clearSelection(),e._default.isLine=!0,a.moveCursorToPosition(f);break;default:if(b){var f=a.getCursorPosition();a.selection.setSelectionRange(b),e._default.text=a.getCopyText(),e._default.isLine=!1,a.selection.clearSelection(),a.moveCursorTo(f.row,f.column)}}}},">":{selFn:function(a,b,c,e){c=c||1;for(var f=0;c>f;f++)a.indent();d.normalMode(a)},fn:function(a,b,c,d){switch(c=parseInt(c||1,10),d){case">":var e=a.getCursorPosition();a.selection.selectLine();for(var f=0;c-1>f;f++)a.selection.moveCursorDown();a.indent(),a.selection.clearSelection(),a.moveCursorToPosition(e),a.navigateLineEnd(),a.navigateLineStart()}}},"<":{selFn:function(a,b,c,e){c=c||1;for(var f=0;c>f;f++)a.blockOutdent();d.normalMode(a)},fn:function(a,b,c,d){switch(c=c||1,d){case"<":var e=a.getCursorPosition();a.selection.selectLine();for(var f=0;c-1>f;f++)a.selection.moveCursorDown();a.blockOutdent(),a.selection.clearSelection(),a.moveCursorToPosition(e),a.navigateLineEnd(),a.navigateLineStart()}}}}}),ace.define("ace/keyboard/vim/maps/aliases",["require","exports","module"],function(a,b,c){c.exports={x:{operator:{ch:"d",count:1},motion:{ch:"l",count:1}},X:{operator:{ch:"d",count:1},motion:{ch:"h",count:1}},D:{operator:{ch:"d",count:1},motion:{ch:"$",count:1}},C:{operator:{ch:"c",count:1},motion:{ch:"$",count:1}},s:{operator:{ch:"c",count:1},motion:{ch:"l",count:1}},S:{operator:{ch:"c",count:1},param:"c"}}}),ace.define("ace/keyboard/vim/commands",["require","exports","module","ace/lib/lang","ace/keyboard/vim/maps/util","ace/keyboard/vim/maps/motions","ace/keyboard/vim/maps/operators","ace/keyboard/vim/maps/aliases","ace/keyboard/vim/registers"],function(a,b,c){"never use strict";function d(a){s.previous={action:{action:{fn:a}}}}var e=a("../../lib/lang"),f=a("./maps/util"),g=a("./maps/motions"),h=a("./maps/operators"),i=a("./maps/aliases"),j=a("./registers"),k=1,l=2,m=3,n=4,o=8,p=function(a,b,c){for(;0<b--;)a.apply(this,c)},q=function(a){var b=a.renderer,c=b.$cursorLayer.getPixelPosition(),d=c.top,e=o*b.layerConfig.lineHeight;2*e>b.$size.scrollerHeight&&(e=b.$size.scrollerHeight/2),b.scrollTop>d-e&&b.session.setScrollTop(d-e),b.scrollTop+b.$size.scrollerHeight<d+e+b.lineHeight&&b.session.setScrollTop(d+e+b.lineHeight-b.$size.scrollerHeight)},r=b.actions={z:{param:!0,fn:function(a,b,c,d){switch(d){case"z":a.renderer.alignCursor(null,.5);break;case"t":a.renderer.alignCursor(null,0);break;case"b":a.renderer.alignCursor(null,1);break;case"c":a.session.onFoldWidgetClick(b.start.row,{domEvent:{target:{}}});break;case"o":a.session.onFoldWidgetClick(b.start.row,{domEvent:{target:{}}});break;case"C":a.session.foldAll();break;case"O":a.session.unfold()}}},r:{param:!0,fn:function(a,b,c,d){d&&d.length&&(d.length>1&&(d="return"==d?"\n":"tab"==d?"	":d),p(function(){a.insert(d)},c||1),a.navigateLeft())}},R:{fn:function(a,b,c,d){f.insertMode(a),a.setOverwrite(!0)}},"~":{fn:function(a,b,c){p(function(){var b=a.selection.getRange();b.isEmpty()&&b.end.column++;var c=a.session.getTextRange(b),d=c.toUpperCase();d!=c?a.session.replace(b,d):c.toLowerCase()!=c?a.session.replace(b,c.toLowerCase()):a.navigateRight()},c||1)}},"*":{fn:function(a,b,c,d){a.selection.selectWord(),a.findNext(),q(a);var e=a.selection.getRange();a.selection.setSelectionRange(e,!0)}},"#":{fn:function(a,b,c,d){a.selection.selectWord(),a.findPrevious(),q(a);var e=a.selection.getRange();a.selection.setSelectionRange(e,!0)}},m:{param:!0,fn:function(a,b,c,d){var e=a.session,f=e.vimMarkers||(e.vimMarkers={}),g=a.getCursorPosition();f[d]||(f[d]=a.session.doc.createAnchor(g)),f[d].setPosition(g.row,g.column,!0)}},n:{fn:function(a,b,c,d){var e=a.getLastSearchOptions();e.backwards=!1,e.start=null,a.selection.moveCursorRight(),a.selection.clearSelection(),a.findNext(e),q(a);var f=a.selection.getRange();f.end.row=f.start.row,f.end.column=f.start.column,a.selection.setSelectionRange(f,!0)}},N:{fn:function(a,b,c,d){var e=a.getLastSearchOptions();e.backwards=!0,e.start=null,a.findPrevious(e),q(a);var f=a.selection.getRange();f.end.row=f.start.row,f.end.column=f.start.column,a.selection.setSelectionRange(f,!0)}},v:{fn:function(a,b,c,d){a.selection.selectRight(),f.visualMode(a,!1)},acceptsMotion:!0},V:{fn:function(a,b,c,d){var e=a.getCursorPosition().row;a.selection.moveTo(e,0),a.selection.selectLineEnd(),a.selection.visualLineStart=e,f.visualMode(a,!0)},acceptsMotion:!0},Y:{fn:function(a,b,c,d){f.copyLine(a)}},p:{fn:function(a,b,c,d){var f=j._default;if(a.setOverwrite(!1),f.isLine){var g=a.getCursorPosition();g.column=a.session.getLine(g.row).length;var h=e.stringRepeat("\n"+f.text,c||1);a.session.insert(g,h),a.moveCursorTo(g.row+1,0)}else a.navigateRight(),a.insert(e.stringRepeat(f.text,c||1)),a.navigateLeft();a.setOverwrite(!0),a.selection.clearSelection()}},P:{fn:function(a,b,c,d){var f=j._default;if(a.setOverwrite(!1),f.isLine){var g=a.getCursorPosition();g.column=0;var h=e.stringRepeat(f.text+"\n",c||1);a.session.insert(g,h),a.moveCursorToPosition(g)}else a.insert(e.stringRepeat(f.text,c||1));a.setOverwrite(!0),a.selection.clearSelection()}},J:{fn:function(a,b,c,d){var e=a.session;b=a.getSelectionRange();var f={row:b.start.row,column:b.start.column};c=c||b.end.row-b.start.row;var g=Math.min(f.row+(c||1),e.getLength()-1);b.start.column=e.getLine(f.row).length,b.end.column=e.getLine(g).length,b.end.row=g;for(var h="",i=f.row;g>i;i++){var j=e.getLine(i+1);h+=" "+/^\s*(.*)$/.exec(j)[1]||""}e.replace(b,h),a.moveCursorTo(f.row,f.column)}},u:{fn:function(a,b,c,d){c=parseInt(c||1,10);for(var e=0;c>e;e++)a.undo();a.selection.clearSelection()}},"ctrl-r":{fn:function(a,b,c,d){c=parseInt(c||1,10);for(var e=0;c>e;e++)a.redo();a.selection.clearSelection()}},":":{fn:function(a,b,c,d){var e=":";c>1&&(e=".,.+"+c+e),a.showCommandLine&&a.showCommandLine(e)}},"/":{fn:function(a,b,c,d){a.showCommandLine&&a.showCommandLine("/")}},"?":{fn:function(a,b,c,d){a.showCommandLine&&a.showCommandLine("?")}},".":{fn:function(a,b,c,d){f.onInsertReplaySequence=s.lastInsertCommands;var e=s.previous;e&&s.exec(a,e.action,e.param)}},"ctrl-x":{fn:function(a,b,c,d){a.modifyNumber(-(c||1))}},"ctrl-a":{fn:function(a,b,c,d){a.modifyNumber(c||1)}}},s=b.inputBuffer={accepting:[k,l,m,n],currentCmd:null,currentCount:"",pendingCount:"",status:"",operator:null,motion:null,lastInsertCommands:[],push:function(a,b,c){var d=this.status,e=!0;this.idle=!1;var f=this.waitingForParam;if(/^numpad\d+$/i.test(b)&&(b=b.substr(6)),f)this.exec(a,f,b);else if(("0"!==b||this.currentCount.length)&&/^\d+$/.test(b)&&this.isAccepting(k))this.currentCount+=b,this.currentCmd=k,this.accepting=[k,l,m,n];else if(!this.operator&&this.isAccepting(l)&&h[b])this.operator={ch:b,count:this.getCount()},this.currentCmd=l,this.accepting=[k,m,n],this.exec(a,{operator:this.operator});else if(g[b]&&this.isAccepting(m)){this.currentCmd=m;var j={operator:this.operator,motion:{ch:b,count:this.getCount()}};g[b].param?this.waitForParam(j):this.exec(a,j)}else if(i[b]&&this.isAccepting(m))i[b].operator.count=this.getCount(),this.exec(a,i[b]);else if(r[b]&&this.isAccepting(n)){var o={action:{fn:r[b].fn,count:this.getCount()}};r[b].param?this.waitForParam(o):this.exec(a,o),r[b].acceptsMotion&&(this.idle=!1)}else this.operator?(this.operator.count=this.getCount(),this.exec(a,{operator:this.operator},b)):(e=1==b.length,this.reset());return this.waitingForParam||this.motion||this.operator?this.status+=b:this.currentCount?this.status=this.currentCount:this.status&&(this.status=""),this.status!=d&&a._emit("changeStatus"),e},waitForParam:function(a){this.waitingForParam=a},getCount:function(){var a=this.currentCount||this.pendingCount;return this.currentCount="",this.pendingCount=a,a&&parseInt(a,10)},exec:function(a,b,c){var d=b.motion,e=b.operator,i=b.action;if(c||(c=b.param),e&&(this.previous={action:b,param:c}),e&&!a.selection.isEmpty())return void(h[e.ch].selFn&&(h[e.ch].selFn(a,a.getSelectionRange(),e.count,c),this.reset()));if(!d&&!i&&e&&c)h[e.ch].fn(a,null,e.count,c),this.reset();else if(d){var j=function(b){b&&"function"==typeof b&&(d.count&&!k.handlesCount?p(b,d.count,[a,null,d.count,c]):b(a,null,d.count,c))},k=g[d.ch],l=k.sel;e?l&&p(function(){j(k.sel),h[e.ch].fn(a,a.getSelectionRange(),e.count,k.param?k:c)},e.count||1):j((f.onVisualMode||f.onVisualLineMode)&&l?k.sel:k.nav),this.reset()}else i&&(i.fn(a,a.getSelectionRange(),i.count,c),this.reset());t(a)},isAccepting:function(a){return-1!==this.accepting.indexOf(a)},reset:function(){this.operator=null,this.motion=null,this.currentCount="",this.pendingCount="",this.status="",this.accepting=[k,l,m,n],this.idle=!0,this.waitingForParam=null}};b.coreCommands={start:{exec:function u(a){f.insertMode(a),d(u)}},startBeginning:{exec:function v(a){a.navigateLineStart(),f.insertMode(a),d(v)}},stop:{exec:function(a){s.reset(),f.onVisualMode=!1,f.onVisualLineMode=!1,s.lastInsertCommands=f.normalMode(a)}},append:{exec:function w(a){var b=a.getCursorPosition(),c=a.session.getLine(b.row).length;c&&a.navigateRight(),f.insertMode(a),d(w)}},appendEnd:{exec:function x(a){a.navigateLineEnd(),f.insertMode(a),d(x)}}};var t=b.onCursorMove=function(a,b){if("insert"!==f.currentMode&&!t.running){if(!a.selection.isEmpty()){if(t.running=!0,f.onVisualLineMode){var c=a.selection.visualLineStart,d=a.getCursorPosition().row;if(d>=c){var e=a.session.getLine(d);a.selection.moveTo(c,0),a.selection.selectTo(d,e.length)}else{var e=a.session.getLine(c);a.selection.moveTo(c,e.length),a.selection.selectTo(d,0)}}return void(t.running=!1)}b&&(f.onVisualLineMode||f.onVisualMode)&&(a.selection.clearSelection(),f.normalMode(a)),t.running=!0;var g=a.getCursorPosition(),h=a.session.getLine(g.row).length;h&&g.column===h&&a.navigateLeft(),t.running=!1}}}),ace.define("ace/keyboard/vim",["require","exports","module","ace/keyboard/vim/commands","ace/keyboard/vim/maps/util","ace/lib/useragent"],function(a,b,c){"use strict";var d=a("./vim/commands"),e=d.coreCommands,f=a("./vim/maps/util"),g=a("../lib/useragent"),h={i:{command:e.start},I:{command:e.startBeginning},a:{command:e.append},A:{command:e.appendEnd},"ctrl-f":{command:"gotopagedown"},"ctrl-b":{command:"gotopageup"}};b.handler={$id:"ace/keyboard/vim",handleMacRepeat:function(a,b,c){if(-1==b)a.inputChar=c,a.lastEvent="input";else if(a.inputChar&&a.$lastHash==b&&a.$lastKey==c){if("input"==a.lastEvent)a.lastEvent="input1";else if("input1"==a.lastEvent)return!0}else a.$lastHash=b,a.$lastKey=c,a.lastEvent="keypress"},updateMacCompositionHandlers:function(a,b){var c=function(a){if("insert"!==f.currentMode){var b=this.textInput.getElement();b.blur(),b.focus(),b.value=a}else this.onCompositionUpdateOrig(a)},d=function(a){"insert"===f.currentMode&&this.onCompositionStartOrig(a)};b?a.onCompositionUpdateOrig||(a.onCompositionUpdateOrig=a.onCompositionUpdate,a.onCompositionUpdate=c,a.onCompositionStartOrig=a.onCompositionStart,a.onCompositionStart=d):a.onCompositionUpdateOrig&&(a.onCompositionUpdate=a.onCompositionUpdateOrig,a.onCompositionUpdateOrig=null,a.onCompositionStart=a.onCompositionStartOrig,a.onCompositionStartOrig=null)},handleKeyboard:function(a,b,c,f,i){if(0!==b&&(!c||-1==f))return null;var j=a.editor,k=a.vimState||"start";if(1==b&&(c="ctrl-"+c),"ctrl-c"==c)return!g.isMac&&j.getCopyText()?(j.once("copy",function(){"start"==k?e.stop.exec(j):j.selection.clearSelection()}),{command:"null",passEvent:!0}):{command:e.stop};if("esc"==c&&0===b||"ctrl-["==c)return{command:e.stop};if("start"==k){if(g.isMac&&this.handleMacRepeat(a,b,c)&&(b=-1,c=a.inputChar),-1==b||1==b||0===b&&c.length>1){if(d.inputBuffer.idle&&h[c])return h[c];var l=d.inputBuffer.push(j,c);if(!l&&-1!==b)return;return{command:"null",passEvent:!l}}if("esc"==c&&0===b)return{command:e.stop};if(0===b||4==b)return{command:"null",passEvent:!0}}else if("ctrl-w"==c)return{command:"removewordleft"}},attach:function(a){a.on("click",b.onCursorMove),"insert"!==f.currentMode&&d.coreCommands.stop.exec(a),a.$vimModeHandler=this,this.updateMacCompositionHandlers(a,!0)},detach:function(a){a.removeListener("click",b.onCursorMove),f.noMode(a),f.currentMode="normal",this.updateMacCompositionHandlers(a,!1)},actions:d.actions,getStatusText:function(){return"insert"==f.currentMode?"INSERT":f.onVisualMode?(f.onVisualLineMode?"VISUAL LINE ":"VISUAL ")+d.inputBuffer.status:d.inputBuffer.status}},b.onCursorMove=function(a){d.onCursorMove(a.editor,a),b.onCursorMove.scheduled=!1}});